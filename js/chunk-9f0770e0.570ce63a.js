(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f0770e0"],{1011:function(e,t,a){"use strict";a("991a")},"386d":function(e,t,a){"use strict";var n=a("cb7c"),s=a("83a1"),i=a("5f1b");a("214f")("search",1,(function(e,t,a,l){return[function(a){var n=e(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=l(a,e,this);if(t.done)return t.value;var o=n(e),r=String(this),c=o.lastIndex;s(c,0)||(o.lastIndex=0);var u=i(o,r);return s(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"991a":function(e,t,a){},ad43:function(e,t,a){"use strict";a.r(t);a("386d");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user custom-scroll-sv"},[t("el-card",[t("h4",{staticClass:"font-weight-bold text-success text-center mb-5"},[e._v("DANH SÁCH SINH VIÊN")]),t("div",{staticClass:"action-student mb-4"},[t("i",{staticClass:"fa-solid fa-rotate-right",on:{click:e.resetData}}),t("i",{staticClass:"fa-solid fa-download"}),t("i",{staticClass:"fa-solid fa-filter",staticStyle:{color:"rgb(3, 49, 49)"}}),t("el-select",{staticClass:"input-student",attrs:{placeholder:"Khoa",filterable:""},model:{value:e.selectedKhoa,callback:function(t){e.selectedKhoa=t},expression:"selectedKhoa"}},e._l(e.khoaList,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-select",{staticClass:"input-student",attrs:{placeholder:"Ngành",filterable:""},model:{value:e.selectedNganh,callback:function(t){e.selectedNganh=t},expression:"selectedNganh"}},e._l(e.nganhList,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-select",{staticClass:"input-student",attrs:{filterable:"",placeholder:"Lớp"},model:{value:e.selectedLop,callback:function(t){e.selectedLop=t},expression:"selectedLop"}},e._l(e.lopList,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-input",{staticClass:"search-input",attrs:{size:"medium",placeholder:"Tìm theo tên, email..."},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("i",{staticClass:"fa-solid fa-magnifying-glass"}),t("div",{},[t("el-button",{attrs:{type:"success",round:"",size:"medium"},on:{click:function(t){return e.goToAddNewPage()}}},[e._v("Tạo mới")])],1)],1),t("el-table",{staticClass:"custom-table",staticStyle:{width:"100%"},attrs:{data:e.currentPageData}},[t("el-table-column",{attrs:{label:"STT",width:"50"},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.$index;a.row;return[t("span",[e._v(e._s(n+1+(e.pagination.current_page-1)*e.pagination.page_size))])]}}])}),t("el-table-column",{attrs:{prop:"studentCode",label:"MSV",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(a.studentCode)+"\n        ")]}}])}),t("el-table-column",{attrs:{prop:"fullName",label:"Tên sinh viên",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(a.fullName)+"\n        ")]}}])}),t("el-table-column",{attrs:{prop:"email",label:"Email",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(a.email)+"\n        ")]}}])}),t("el-table-column",{attrs:{prop:"className",label:"Lớp",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(a.className)+"\n        ")]}}])}),t("el-table-column",{attrs:{prop:"department",label:"Khoa",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(a.department)+"\n        ")]}}])}),t("el-table-column",{attrs:{prop:"majors",label:"Nghành",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n          "+e._s(a.majors)+"\n        ")]}}])}),t("el-table-column",{attrs:{label:"Thao tác",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.row;return[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small",circle:""},on:{click:function(t){return t.preventDefault(),e.gotoDetail(n)}}}),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:function(t){return t.preventDefault(),e.confirmDelete(n)}}})]}}])})],1),t("div",{staticClass:"mt-2"},[t("el-pagination",{attrs:{background:"",layout:"jumper, prev, pager, next, sizes, total","page-sizes":[10,25,50,100],"page-size":e.pagination.page_size,total:e.filteredTableData.length,"current-page":e.pagination.current_page},on:{"update:pageSize":function(t){return e.$set(e.pagination,"page_size",t)},"update:page-size":function(t){return e.$set(e.pagination,"page_size",t)},"update:currentPage":function(t){return e.$set(e.pagination,"current_page",t)},"update:current-page":function(t){return e.$set(e.pagination,"current_page",t)},"current-change":e.handleCurrentPageChange,"size-change":e.handlePageSizeChange}})],1)],1)],1)},s=[],i=(a("6762"),a("2fdb"),a("d25f"),a("49e5")),l=a("b166"),o=(a("15f5"),"student"),r={data:function(){return{tableData:[],pagination:{current_page:1,page_size:10},totalData:0,search:"",selectedKhoa:"",selectedNganh:"",selectedLop:"",khoaList:[],nganhList:[],lopList:[]}},created:function(){this.loadData(),this.loadInfoToFilter()},methods:{goToAddNewPage:function(){this.$router.push({name:"".concat(o,"_new")})},gotoDetail:function(e){this.$router.push({name:"".concat(o,"_edit"),params:{id:e._id}})},confirmDelete:function(e){var t=this;this.$confirm("Xác nhận xóa ".concat(o,"?"),"Cảnh báo",{confirmButtonText:"Xóa",type:"warning"}).then((function(){Object(i["g"])(e._id).then((function(e){var a=e.data;a.success&&t.loadData()})).finally((function(){t.$wrLoading(!1)}))})).catch()},loadData:function(){var e=this;Object(i["a"])().then((function(t){t&&t.data&&t.data.success?e.tableData=t.data.students:console.error("Không thành công: ",t.data)})).catch((function(e){console.error("Lỗi khi tải điểm rèn luyện: ",e)}))},handlePageSizeChange:function(e){this.pagination.page_size=e,this.pagination.current_page=1},handleCurrentPageChange:function(e){this.pagination.current_page=e},formatDate:function(e){return Object(l["a"])(new Date(e),"dd/MM/yyyy ")},resetData:function(){this.selectedKhoa="",this.selectedNganh="",this.selectedLop="",this.search=""},loadInfoToFilter:function(){this.khoaList=this.$store.getters.khoaList,this.nghanhList=this.$store.getters.nghanhList,this.lopList=this.$store.getters.lopList}},computed:{filteredTableData:function(){var e=this;return this.tableData.filter((function(t){return(!e.search||t.fullName.toLowerCase().includes(e.search.toLowerCase()))&&(!e.selectedKhoa||t.department===e.selectedKhoa)&&(!e.selectedNganh||t.nganh===e.selectedNganh)&&(!e.selectedLop||t.className===e.selectedLop)}))},currentPageData:function(){var e=(this.pagination.current_page-1)*this.pagination.page_size,t=e+this.pagination.page_size;return this.filteredTableData.slice(e,t)}}},c=r,u=(a("1011"),a("0c7c")),d=Object(u["a"])(c,n,s,!1,null,null,null);t["default"]=d.exports}}]);