(function(t){function e(e){for(var r,i,c=e[0],u=e[1],s=e[2],l=0,d=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},i={app:0},a={app:0},o=[];function c(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-19b801a4":"890292d9","chunk-2d0a3ce7":"6fcc447f","chunk-2d0c0e94":"e781d154","chunk-2d0dd413":"8a99556f","chunk-2d0e8c01":"d8e9e5e5","chunk-2d208708":"7db09fbc","chunk-340e5fa9":"d09e0347","chunk-3694213e":"3ad0d668","chunk-3a43c98e":"701762e9","chunk-3c3b6ed4":"26b74e75","chunk-54380716":"634fe9f2","chunk-5b6ad2d8":"f729fbca","chunk-3f5a1163":"8120d587","chunk-45ece578":"9b6b5126","chunk-744c9ad6":"43d86b90","chunk-145b11e1":"64e5225c","chunk-1d64201e":"dbacce5e","chunk-1c7b385a":"442337a1","chunk-b0bc3c8e":"1d453106","chunk-2bc32f84":"b909030c","chunk-46f936a0":"af4385fa","chunk-75268160":"219b6f19","chunk-7e33e04a":"3e856871","chunk-9f0770e0":"570ce63a","chunk-df8022d6":"48a3043a","chunk-6f0b6ca2":"e37dbb41","chunk-d8a1128c":"6a5e132d","chunk-e7d3ebc4":"7c9507a0","chunk-74585217":"469a7881","chunk-782794c5":"17b7c7ad","chunk-93379bf4":"f8b96d08","chunk-b482f398":"e55db959","chunk-b48aeb9c":"bef0c5ee","chunk-2d216214":"dda534f6","chunk-55b8d8df":"420ddde3"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-19b801a4":1,"chunk-340e5fa9":1,"chunk-3694213e":1,"chunk-3c3b6ed4":1,"chunk-54380716":1,"chunk-3f5a1163":1,"chunk-45ece578":1,"chunk-744c9ad6":1,"chunk-145b11e1":1,"chunk-1d64201e":1,"chunk-1c7b385a":1,"chunk-2bc32f84":1,"chunk-46f936a0":1,"chunk-75268160":1,"chunk-7e33e04a":1,"chunk-9f0770e0":1,"chunk-df8022d6":1,"chunk-6f0b6ca2":1,"chunk-d8a1128c":1,"chunk-e7d3ebc4":1,"chunk-74585217":1,"chunk-782794c5":1,"chunk-93379bf4":1,"chunk-b48aeb9c":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-19b801a4":"0b333f86","chunk-2d0a3ce7":"31d6cfe0","chunk-2d0c0e94":"31d6cfe0","chunk-2d0dd413":"31d6cfe0","chunk-2d0e8c01":"31d6cfe0","chunk-2d208708":"31d6cfe0","chunk-340e5fa9":"59dfdf9c","chunk-3694213e":"bd8e8fd1","chunk-3a43c98e":"31d6cfe0","chunk-3c3b6ed4":"ce9a813f","chunk-54380716":"562e9585","chunk-5b6ad2d8":"31d6cfe0","chunk-3f5a1163":"3cab959a","chunk-45ece578":"01f36b4b","chunk-744c9ad6":"7157ec87","chunk-145b11e1":"30f0ad03","chunk-1d64201e":"a730cdef","chunk-1c7b385a":"83614304","chunk-b0bc3c8e":"31d6cfe0","chunk-2bc32f84":"75f1d103","chunk-46f936a0":"6cd4b23a","chunk-75268160":"30443fdf","chunk-7e33e04a":"69eb382e","chunk-9f0770e0":"8eef933d","chunk-df8022d6":"e4de4a86","chunk-6f0b6ca2":"f336ba28","chunk-d8a1128c":"25d1fd7d","chunk-e7d3ebc4":"c408e718","chunk-74585217":"e126a383","chunk-782794c5":"057cd5be","chunk-93379bf4":"3a180742","chunk-b482f398":"31d6cfe0","chunk-b48aeb9c":"a1d23281","chunk-2d216214":"31d6cfe0","chunk-55b8d8df":"31d6cfe0"}[t]+".css",a=u.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===a))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){s=d[c],l=s.getAttribute("data-href");if(l===r||l===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete i[t],f.parentNode.removeChild(f),n(o)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){i[t]=0})));var r=a[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise((function(e,n){r=a[t]=[e,n]}));e.push(r[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(t);var d=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,n[1](d)}a[t]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/Frontend/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0d90":function(t,e,n){"use strict";n("d5a0")},"277f":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n("b775"),i="notification";function a(){return Object(r["a"])({url:"/".concat(i),method:"get"})}function o(t){return Object(r["a"])({url:"/".concat(i),method:"post",data:t})}},"2a71":function(t,e,n){"use strict";n("ff6f")},"2b13":function(t,e,n){"use strict";n("35d9")},"35d9":function(t,e,n){},"3a80":function(t,e,n){},"3b61":function(t,e,n){},4360:function(t,e,n){"use strict";var r=n("2b0e"),i=n("2f62"),a=(n("96cf"),n("1da1")),o=n("53ca"),c={state:{base_url:"",template_builder_url:"",pageTitle:"",currentSidebar:null,sidebarHeight:null,alerts:[],loadingStatus:0,reRender:!1,mapCustomerGroup:{general:"General","tax-exempt":"Tax Exempt"},lastRoute:"",routeHistory:[],countries:{},stateRequired:[],customerGroups:[],websites:[],websiteId:0,frequencies:{"1_week":"1 Week","2_week":"2 Weeks","1_month":"1 Month","2_month":"2 Months","3_month":"3 Months","4_month":"4 Months"},acl:[],googleReCaptchaSiteKey:"",configuration:[],cmsBlocks:{},cmsPage:[],toolbarWidges:[],subtitle:"",modules:{},locale:{languages:[{code:"en",label:"English"}],currencies:[{code:"USD",label:"US Dollar"}]},attributeInfo:[],systemName:"",orderStates:{},entities:{},breadcrumb:[],isNewTheme:!1,taskStatusMap:{}},mutations:{SET_PAGE_TITLE:function(t,e){t.pageTitle=e},SET_CURRENT_SIDEBAR:function(t,e){t.currentSidebar=e},SET_SIDEBAR_HEIGHT:function(t,e){t.sidebarHeight=e?0:document.documentElement.scrollHeight},SHOW_ALERT:function(t,e){3===t.alerts.length&&t.alerts.pop(),t.alerts.unshift(Object.assign({variant:"info"},e))},DISMISS_ALERT:function(t,e){t.alerts.splice(e,1)},SET_LOADING_STATUS:function(t,e){e&&(t.loadingStatus+=1),!e&&t.loadingStatus>0&&(t.loadingStatus-=1),"reset"===e&&(t.loadingStatus=0)},TOGGLE_RE_RENDER:function(t){t.reRender=!t.reRender},SET_LAST_ROUTE:function(t,e){t.lastRoute=e},PUSH_LAST_ROUTE:function(t,e){t.routeHistory.unshift(e),t.routeHistory.length=10},SET_FIRST_DATA:function(t,e){t.taskStatusMap=e["taskStatus"]},SET_WEBSITES:function(t,e){t.websites=e},SET_WEBSITE_ID:function(t,e){t.websiteId=e},SET_GOOGLE_RE_CAPTCHA_SITE_KEY:function(t,e){t.googleReCaptchaSiteKey=e},SET_CONFIGURATION:function(t,e){t.configuration=e},SET_TOOLBAR_WIDGETS:function(t,e){t.toolbarWidges=e},SET_SUBTITLE:function(t,e){t.subtitle=e},SET_SYSTEM_NAME:function(t,e){t.systemName=e},SET_BREADCRUMB:function(t,e){t.breadcrumb=e},SET_NEW_THEME:function(t,e){t.isNewTheme=e}},actions:{setPageTitle:function(t,e){var n=t.commit;"object"===Object(o["a"])(e)?(e.page_title&&n("SET_PAGE_TITLE",e.page_title),e.subtitle&&n("SET_SUBTITLE",e.subtitle||"")):n("SET_PAGE_TITLE",e)},changeCurrentSidebar:function(t,e){var n=t.commit;n("SET_CURRENT_SIDEBAR",e)},changeSidebarHeight:function(t,e){var n=t.commit;n("SET_SIDEBAR_HEIGHT",e)},showAlert:function(t,e){var n=t.commit;n("SHOW_ALERT",e)},dismissAlert:function(t,e){var n=t.commit;n("DISMISS_ALERT",e)},toggleLoading:function(t,e){var n=t.commit;n("SET_LOADING_STATUS",e)},reRender:function(t){var e=t.commit;e("TOGGLE_RE_RENDER")},setLastRoute:function(t,e){var n=t.commit;n("SET_LAST_ROUTE",e),n("PUSH_LAST_ROUTE",e)},setFirstData:function(t,e){var n=t.commit;n("SET_FIRST_DATA",e)},setWebsites:function(t,e){var n=t.commit;n("SET_WEBSITES",e)},setWebsiteId:function(t,e){var n=t.commit;n("SET_WEBSITE_ID",e)},fetchConfiguration:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,r=e.commit,n.configuration&&n.configuration.length){t.next=6;break}return t.next=4,getConfiguration().then((function(t){var e=t.data;return e.settings})).catch((function(){return null}));case 4:i=t.sent,i&&r("SET_CONFIGURATION",i);case 6:return t.abrupt("return",n.configuration);case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getBlocks:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.state;case 1:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),setToolbarWidgets:function(t,e){var n=t.commit;n("SET_TOOLBAR_WIDGETS",e)},setBreadcrumb:function(t,e){var n=t.commit;n("SET_BREADCRUMB",e)},setNewTheme:function(t,e){var n=t.commit;n("SET_NEW_THEME",e)}}},u=n("5f87"),s=n("7ded"),l={state:{token:Object(u["b"])(),user:Object(u["c"])(),isLocked:!1,enableLockMode:!0,lock:{enabled:!0,period:15},client:Object(u["a"])(),clients:[]},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_USER:function(t,e){t.user=e},UNSET_USER:function(t){t.user=null,t.token=null},LOCK_SESSION:function(t){t.isLocked=!0},UNLOCK_SESSION:function(t){t.isLocked=!1},LOCK_SETTING:function(t,e){t.lock=e},SET_CLIENT:function(t,e){t.client=e,Object(u["d"])(e)},SET_CLIENTS:function(t,e){t.clients=e},SET_USER_FULLNAME:function(t,e){if(t.user._id==e._id){t.user.first_name=e.newUserFirstName,t.user.last_name=e.newUserLastName,t.user.user=t.user;var n=Object(u["c"])();n.first_name=e.newUserFirstName,n.last_name=e.newUserLastName,Object(u["f"])(n)}}},actions:{reSetUser:function(t,e){var n=t.state;n.user=e,Object(u["f"])(e)},login:function(t,e){var n=t.commit;return new Promise((function(t,r){Object(s["b"])(e).then((function(e){var r=e.data,i=r.user.accessToken,a=r.user;r.success&&(n("SET_TOKEN",i),n("SET_USER",a),Object(u["e"])(i),Object(u["f"])(a)),t(!0)})).catch((function(t){r(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,n){Object(s["c"])().then((function(){e("UNSET_USER"),Object(u["g"])(),t()}))}))},setLoginData:function(t,e){var n=t.commit;n("SET_TOKEN",e.token),n("SET_USER",e.user),Object(u["e"])(e.token),Object(u["f"])(e.user)},tokenNotValid:function(t){var e=t.commit;t.dispatch;return e("UNSET_USER"),e("SET_CLIENTS",[]),e("SET_CLIENT",""),Object(u["g"])(),Promise.resolve("true")},lockSession:function(t){t.commit},unlockSession:function(t,e){t.commit},setClient:function(t,e){var n=t.commit;n("SET_CLIENT",e)},setClients:function(t,e){var n=t.commit;n("SET_CLIENTS",e)},setUserFullName:function(t,e){var n=t.commit;n("SET_USER_FULLNAME",e)}}},d=l,f=(n("ac6a"),n("456d"),{pageTitle:function(t){return t.app.pageTitle},currentSidebar:function(t){return t.app.currentSidebar},sidebarHeight:function(t){return t.app.sidebarHeight},token:function(t){return t.user.token},user:function(t){return t.user.user},question:function(t){return t.question.question},alerts:function(t){return t.app.alerts},loadingStatus:function(t){return t.app.loadingStatus},reRender:function(t){return t.app.reRender},mapCustomerGroup:function(t){return t.app.mapCustomerGroup},lastRoute:function(t){return t.app.lastRoute},routeHistory:function(t){return t.app.routeHistory},countries:function(t){return t.app.countries},stateRequired:function(t){return t.app.stateRequired},isLocked:function(t){return t.user.isLocked},websites:function(t){return t.app.websites},websiteId:function(t){return t.app.websiteId},frequencies:function(t){return t.app.frequencies},acl:function(t){return t.app.acl},googleReCaptchaSiteKey:function(t){return t.app.googleReCaptchaSiteKey},settings:function(t){return t.app.settings},blocks:function(t){return t.app.cmsBlocks||{}},toolbarWidges:function(t){return t.app.toolbarWidges},subtitle:function(t){return t.app.subtitle},modules:function(t){return t.app.modules||{}},locale:function(t){return t.app.locale},clients:function(t){return t.user.clients},client:function(t){return t.user.client},attributeInfo:function(t){return t.app.attributeInfo},systemName:function(t){return t.app.systemName},baseUrl:function(t){return t.app.base_url},templateBuilderURL:function(t){return t.app.template_builder_url},orderStates:function(t){return t.app.orderStates},claimStatuses:function(t){return t.app.claimStatuses},entities:function(t){return t.app.entities},entityClasses:function(t){for(var e={},n=t.app.entities,r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];e[a]=n[a].classes}return e},breadcrumb:function(t){return t.app.breadcrumb},isNewTheme:function(t){return t.app.isNewTheme},news:function(t){return t.data.news},overviewData:function(t){return t.data.overviewData},package_groups:function(t){return t.data.package_groups},orders:function(t){return t.data.orders},taskStatusMap:function(t){return t.app.taskStatusMap},users:function(t){return t.data.users.docs},total_users:function(t){return t.data.users.total},allUsers:function(t){return t.data.allUsers},currentUser:function(t){return t.data.currentUser},khoaList:function(t){return t.data.khoaList},nghanhList:function(t){return t.data.nghanhList},lopList:function(t){return t.data.lopList},notifications:function(t){return t.data.notifications},socket:function(t){return t.data.socket}}),h={state:{users:{docs:[],total:0},notifications:[],khoaList:[],nghanhList:[],lopList:[],currentUer:{},allUsers:[],socket:null},mutations:{SET_DATA:function(t,e){t[e.key]=e.data}},actions:{setData:function(t,e){var n=t.commit;n("SET_DATA",e)}}};r["default"].use(i["a"]);e["a"]=new i["a"].Store({modules:{app:c,user:d,data:h},actions:{},getters:f})},"48f4":function(t,e,n){"use strict";n("3a80")},"49e5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"h",(function(){return d})),n.d(e,"d",(function(){return f}));n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("ade3");var r=n("b775");var i="student";function a(){return Object(r["a"])({url:"/".concat(i),method:"get"})}function o(){return Object(r["a"])({url:"/".concat(i,"/class-list"),method:"get"})}function c(){return Object(r["a"])({url:"/".concat(i,"/khoaList"),method:"get"})}function u(){return Object(r["a"])({url:"/".concat(i,"/nganhList"),method:"get"})}function s(t){return Object(r["a"])({url:"/".concat(i,"/").concat(t),method:"delete"})}function l(t){return Object(r["a"])({url:"/".concat(i,"/").concat(t),method:"get"})}function d(t){return Object(r["a"])({url:"/".concat(i),method:"post",data:t})}function f(t){var e=t.email;return Object(r["a"])({url:"/".concat(i,"/get-fullName/").concat(encodeURIComponent(e)),method:"get"})}},"4a7a":function(t,e,n){},"4fc8":function(t,e,n){"use strict";n("88d9")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},a=[],o=(n("6762"),n("2fdb"),{mounted:function(){this.connectSocket(),this.loadKhoaList(),this.loadNghanhList(),this.loadLopList(),this.loadCurrentUser(),["Admin","Cố vấn"].includes(this.$store.getters.user.role)&&this.loadAllUsers()}}),c=o,u=(n("5bff"),n("0c7c")),s=Object(u["a"])(c,i,a,!1,null,null,null),l=s.exports,d=n("e26c"),f=n("4360"),h=n("5c96"),m=n.n(h),p=n("9029"),b=n("c7db"),g=(n("2caf"),n("28a5"),n("c5f6"),n("8615"),n("6d67"),n("ac6a"),n("456d"),n("2909")),v=(n("a481"),n("96cf"),n("1da1")),k=n("2ef0"),_=n("3666"),y=n.n(_),w=n("b775");function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(w["a"])({url:"/file",method:"post",data:t,timeout:0,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){e&&(e.percent=Math.floor(100*t.loaded/t.total))}})}var S=n("49e5"),C=n("c24f"),E=n("daa8"),x="https://backend-3lvb.onrender.com/api/v1/admin/file",O={data:function(){var t=this;return{ckEditorConfig:{entities_latin:!1,basicEntities:!1,entities_greek:!1,entities_processNumerical:!1,forcePasteAsPlainText:!1,filebrowserImageUploadUrl:x},editorConfig:{plugins:"wordcount code image link",toolbar:"undo redo | styleselect | bold italic | forecolor backcolor | link image alignleft aligncenter alignright | code",height:400,skin:"silver",force_br_newline:!1,force_p_newline:!1,forced_root_block:"",convert_urls:!1,cleanup_on_startup:!1,trim_span_elements:!1,verify_html:!1,cleanup:!1,valid_elements:"[]",valid_children:"[]",images_upload_handler:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n,r,i){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("file",n.blob()),e.next=4,T(a,null).then((function(t){var e=t.data;return e}));case 4:o=e.sent,o&&o.filename?r(t.getImagePath(o.filename)):i("Has an error");case 6:case"end":return e.stop()}}),e)})));function n(t,n,r){return e.apply(this,arguments)}return n}()},BACKEND_PATH:"https://backend-3lvb.onrender.com/api/v1/admin"}},methods:{loadAllUsers:function(){var t=this;C["b"]().then((function(e){var n=e.data;n.success&&t.$store.dispatch("setData",{key:"allUsers",data:n.docs})}))},connectSocket:function(){this.$store.dispatch("setData",{key:"socket",data:Object(E["a"])("https://backend-3lvb.onrender.com")})},loadCurrentUser:function(){var t=this;C["d"](this.$store.getters.user._id).then((function(e){t.$store.dispatch("setData",{key:"currentUser",data:e.data.doc})})).catch((function(t){console.log(t)})).finally((function(){}))},loadKhoaList:function(){var t=this;S["e"]().then((function(e){var n=e.data;n.success&&t.$store.dispatch("setData",{key:"khoaList",data:n.khoaLists})}))},loadNghanhList:function(){var t=this;S["f"]().then((function(e){var n=e.data;n.success&&t.$store.dispatch("setData",{key:"nganhList",data:n.nganhLists})}))},loadLopList:function(){var t=this;S["b"]().then((function(e){var n=e.data;n.success&&t.$store.dispatch("setData",{key:"lopList",data:n.classLists})}))},setData:function(t){this.$store.dispatch("setData",t)},getSlug:function(t){t=t.toLowerCase(),t=t.replace(/đ/g,"d");var e=y()(t,{lower:!0,remove:/[~!@#$%^&*()+{};'"<>?/_]/g});return e},getImagePath:function(t){return"https://backend-3lvb.onrender.com/upload/"+t},getPrice:function(t){return this.$store.getters.user&&this.$store.getters.user.is_partner&&t.vip_price?t.vip_price:t.price},csvExport:function(t){var e="data:text/csv;charset=utf-8,";e+=[Object.keys(t[0]).join(";")].concat(Object(g["a"])(t.map((function(t){return Object.values(t).join(";")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var n=encodeURI(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","keywords.csv"),r.click()},goToDashBoard:function(){this.$router.push({name:"app"}),this.$store.dispatch("reRender")},handleCopyStr:function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n),this.$notify({type:"success",message:"Đã sao chép vào clipboard."}))},formatPrice:function(t){return t=Number(t),isNaN(t)&&(t=0),t=t.toLocaleString("it-IT",{style:"currency",currency:"VND"}),t},getGroups:function(){return this.$store.state.app.customerGroups},acl:function(t){return"*"===this.userACL||(t=t.split("/"),t=t.map((function(t){return Object(k["snakeCase"])(t)})).join("/"),Array.isArray(this.userACL)&&this.userACL.includes(t))},renderBoolean:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Yes",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"No";return Boolean(t)?e:n},ucfirst:function(t){return t&&"string"===typeof t&&(t=t[0].toUpperCase()+t.substr(1)),t},hasModule:function(t){return this.modules[t]||!1}},computed:{isAdminRole:function(){return"Admin"==this.$store.getters.user.role},taskStatusMap:function(){return this.$store.getters.taskStatusMap},userACL:function(){return this.$store.getters["acl"]},modules:function(){return this.$store.getters["modules"]},isNewTheme:function(){return!0}}},A={install:function(t){t.directive("click-outside",b["directive"]),t.directive("content",{inserted:function(t){t.classList.add("page-content")}}),t.prototype.$wrAlert=function(t){f["a"].dispatch("showAlert",t)},t.prototype.$wrLoading=function(t){f["a"].dispatch("toggleLoading",t)},t.mixin(O)}},N=A,j=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("div",{staticClass:"d-flex px-2"},[e("div",{staticClass:"toolbar-buttons mr-auto"},[e("h4",[t._v(t._s(t.pageTitle))])]),e("div",{staticClass:"toolbar-buttons ml-auto"},[t._l(t.buttons,(function(n,r){return[n.more?[e("el-dropdown",{key:r,attrs:{size:"medium","split-button":"",type:n.type},on:{click:function(e){return t.doAction(n)},command:t.handleMoreAction}},[t._v("\n              "+t._s(n.label)+"\n              "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(n.more,(function(n,r){return e("el-dropdown-item",{key:r,attrs:{command:n}},[t._v(t._s(n.label))])})),1)],1)]:[e("el-button",{key:r,staticClass:"mx-1",attrs:{size:"medium",type:n.type,icon:n.icon,disabled:n.disabled},on:{click:function(e){return t.doAction(n)}}},[t._v("\n              "+t._s(n.label)+"\n            ")])]]}))],2)])])])},I=[],P={props:["buttons","noFixed","websiteSelector","subtitle"],data:function(){return{scrollY:null,originalTop:0,isFixed:!1}},methods:{doAction:function(t){if(t.callback&&"function"==typeof t.callback)t.callback();else if(t.route){var e={name:t.route};t.routeParams&&(e.params=t.routeParams),t.routeQuery&&(e.query=t.routeQuery),this.$router.push(e)}else t.path?this.$router.push(t.path):console.warn('Button "'.concat(t.label,'" has an invalid action'))},handleMoreAction:function(t){this.doAction(t)},handleWindows:function(){this.scrollY=Math.round(window.scrollY)},handleWebsiteChanged:function(t){this.$emit("websiteChanged",t),this.$parent.handleWebsiteChanged&&this.$parent.handleWebsiteChanged(t)}},computed:{pageTitle:function(){return this.$store.getters.pageTitle},wid:function(){return this.$parent.wid||0},showWebsites:function(){return"function"===typeof this.$parent.handleWebsiteChanged||this.websiteSelector}},mounted:function(){var t=this.$el.querySelector(".wr-scroll-source");t&&(this.originalTop=+t.getBoundingClientRect().top+ +t.getBoundingClientRect().height),window.addEventListener("scroll",this.handleWindows),this.$store.dispatch("setToolbarWidgets",this.buttons)},watch:{scrollY:function(){this.isFixed=this.scrollY>this.originalTop},subtitle:function(t){this.$store.commit("SET_SUBTITLE",t)},buttons:function(){this.$store.dispatch("setToolbarWidgets",this.buttons)}},destroyed:function(){window.removeEventListener("scroll",this.handleWindows),this.$store.dispatch("setToolbarWidgets",[]),this.$store.commit("SET_SUBTITLE","")}},U=P,L=(n("48f4"),Object(u["a"])(U,j,I,!1,null,"1fb00432",null)),D=L.exports;r["default"].component("toolbar-widget",D);n("e2cf"),n("a2f0");var R=n("b2d6"),$=n.n(R),F=(n("e562"),n("0d68"),n("0342"),n("3b2e"),n("e8b0"),n("ef1f"),n("be7f"),n("fb02"),n("ec27"),n("f3e2"),n("7bb1")),M=n("4c93"),B=n("2593");Object(F["b"])("en",B),Object.keys(M).forEach((function(t){Object(F["a"])(t,M[t])}));var H=n("953d"),q=n.n(H),W=n("25ae"),G=n.n(W);r["default"].use(G.a),r["default"].use(q.a),r["default"].use(m.a,{locale:$.a}),r["default"].use(N),r["default"].config.productionTip=!1,r["default"].prototype.$isMobile=p["isMobile"],new r["default"]({router:d["a"],store:f["a"],render:function(t){return t(l)}}).$mount("#app")},"59f8":function(t,e,n){"use strict";n("4a7a")},"5bff":function(t,e,n){"use strict";n("6d66")},"5d85":function(t,e,n){},"5ece":function(t,e,n){"use strict";n("b95d")},"5f87":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return l}));var r="wl";function i(){var t=localStorage.getItem(r+".token");return null!=t?t:null}function a(t){t&&localStorage.setItem(r+".token",t)}function o(){var t=localStorage.getItem(r+".user");return null!=t?JSON.parse(t):null}function c(t){t&&localStorage.setItem(r+".user",JSON.stringify(t))}function u(){localStorage.removeItem(r+".user"),localStorage.removeItem(r+".token"),localStorage.removeItem(r+".auth")}function s(t){t&&localStorage.setItem(r+".client_id",t)}function l(){return localStorage.getItem(r+".client_id")||!1}},"6ab2":function(t,e,n){var r={"./":["d98a","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-b0bc3c8e","chunk-2bc32f84"],"./detailPost":["9a88","chunk-5b6ad2d8","chunk-3f5a1163"],"./detailPost.vue":["9a88","chunk-5b6ad2d8","chunk-3f5a1163"],"./index":["d98a","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-b0bc3c8e","chunk-2bc32f84"],"./index.vue":["d98a","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-b0bc3c8e","chunk-2bc32f84"],"./postItem":["ecde","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-1c7b385a"],"./postItem.vue":["ecde","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-1c7b385a"],"./postTables":["ee69","chunk-5b6ad2d8","chunk-744c9ad6","chunk-46f936a0"],"./postTables.vue":["ee69","chunk-5b6ad2d8","chunk-744c9ad6","chunk-46f936a0"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="6ab2",t.exports=i},"6d66":function(t,e,n){},"75a3":function(t,e,n){var r={"./training_point/resultTraningPoint":["e32d","chunk-5b6ad2d8","chunk-744c9ad6","chunk-1d64201e"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="75a3",t.exports=i},"7ded":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return d}));var r=n("b775"),i=n("9690");function a(t){var e=Object(i["a"])("auth","trust_computer_hash");return e&&(t.trust_hash=e),Object(r["a"])({url:"/auth/signin",method:"post",data:t})}function o(){return Object(r["a"])({url:"/auth/register",method:"post"})}function c(){return Object(r["a"])({url:"/auth/logout",method:"post"})}function u(t){return Object(r["a"])({url:"/auth/send-verification-code",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/auth/verify-code",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/auth/forgot-password",method:"get",params:t})}function d(t){return Object(r["a"])({url:"/auth/forgot-password",method:"post",data:t})}},8351:function(t,e,n){"use strict";n("3b61")},"88d9":function(t,e,n){},9266:function(t,e,n){var r={"./Question/questionTables":["fcd5","chunk-5b6ad2d8","chunk-744c9ad6","chunk-75268160"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="9266",t.exports=i},9690:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var r="wl",i=function(t){return r+"."+t},a=function(t,e){localStorage.setItem(i(t),JSON.stringify(e))};function o(t,e,n){var r=u(t);r||(r={}),r[e]=n,a(t,r)}function c(t,e){var n=u(t);return!!n&&n[e]}function u(t){var e=localStorage.getItem(i(t));return null!==e&&JSON.parse(e)}},"9deb":function(t,e,n){},a2f0:function(t,e,n){},a617:function(t,e,n){},ac5c:function(t,e,n){"use strict";n("c182")},b775:function(t,e,n){"use strict";var r=n("53ca"),i=n("bc3a"),a=n.n(i),o=n("e26c"),c=n("4360"),u=n("5f87"),s=n("2b0e"),l=new s["default"],d=a.a.create({timeout:15e3,headers:{accept:"application/json"}});d.interceptors.request.use((function(t){return t.headers["x-access-token"]=Object(u["b"])(),t.baseURL="https://backend-3lvb.onrender.com/api/v1/admin",t}),(function(t){console.log(t),Promise.reject(t)}));var f=function(t){"data"in t&&("message"in t.data&&l.$notify({type:t.data.status,message:"object"==Object(r["a"])(t.data.message)?t.data.message.message:t.data.message,dangerouslyUseHTMLString:t.data.dangerouslyUseHTMLString,showClose:!0,duration:7e3}),"renew_token"in t.data&&Object(u["e"])(t.data.wr_renew_token))};d.interceptors.response.use((function(t){return f(t),Promise.resolve(t)}),(function(t){if(c["a"].dispatch("toggleLoading","reset"),t.response){if(f(t.response),403===t.response.status&&o["a"].push({path:"/"}),401===t.response.status)return c["a"].dispatch("tokenNotValid").then((function(){o["a"].push({path:"/login"}).catch((function(){}))})),Promise.reject(t.response)}else l.$notify({type:"error",message:"Can't connect to server. Please try again later.",showClose:!0,duration:7e3});return Promise.reject(t.response)})),e["a"]=d},b95d:function(t,e,n){},c182:function(t,e,n){},c24f:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"e",(function(){return p}));var r=n("b775"),i="user";function a(t){return Object(r["a"])({url:"/".concat(i,"/collection"),method:"post"})}function o(){return Object(r["a"])({url:"/".concat(i),method:"get"})}function c(t){return Object(r["a"])({url:"/".concat(i,"/").concat(t),method:"delete"})}function u(t){return Object(r["a"])({url:"/".concat(i,"/").concat(t),method:"get"})}function s(t){return Object(r["a"])({url:"/".concat(i),method:"post",data:t})}function l(t,e){return Object(r["a"])({url:"/".concat(i,"/updateAvatarUser/").concat(t),method:"post",data:{avatarUrl:e}})}function d(t,e){return Object(r["a"])({url:"/".concat(i,"/updateNotificationForUser/").concat(t),method:"post",data:{notifications:e}})}function f(t){return Object(r["a"])({url:"/".concat(i,"/getNotification/").concat(t),method:"get"})}function h(t,e){return Object(r["a"])({url:"/".concat(i,"/addNotification/").concat(t),method:"post",data:{notification:e}})}function m(t){return Object(r["a"])({url:"/".concat(i,"/updateNotificationStatus/").concat(t),method:"post"})}function p(t){return Object(r["a"])({url:"/".concat(i,"/getInfoUser/").concat(t),method:"get"})}},c6aa:function(t,e,n){"use strict";n("a617")},c78c:function(t,e,n){var r={"./training_point/detailTrainingPoint":["366e","chunk-5b6ad2d8","chunk-744c9ad6","chunk-145b11e1"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="c78c",t.exports=i},cf05:function(t,e,n){t.exports=n.p+"img/logo.f69df3fe.png"},d5a0:function(t,e,n){},e26c:function(t,e,n){"use strict";var r=n("2909"),i=n("2b0e"),a=n("8c4f"),o=(n("759f"),n("4360")),c=n("5f87"),u=function(t,e,n){o["a"].dispatch("setLastRoute",e.fullPath);var r=t.matched.some((function(t){return t.meta.authRequired}));t.meta.isRerenderComponent&&o["a"].dispatch("reRender");var i=Object(c["c"])();r&&!i?n("/login"):"/login"===t.path&&i?n("/"):n(),n()},s=(n("7f7f"),function(t,e){o["a"].dispatch("changeCurrentSidebar",null);var n=t.meta.title||t.name,r=t.matched.slice(1);o["a"].dispatch("setPageTitle",n),o["a"].dispatch("setBreadcrumb",r),document.title=n}),l=function(){var t=this,e=t._self._c;return t.user?e("div",{staticClass:"wrapper"},[t.$isMobile?t._e():e("side-bar-component",{on:{sidebarExpand:function(e){t.isSidebarExpand=e}}}),t.isLoaded?e("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingStatus>0,expression:"loadingStatus > 0"}],staticClass:"content minus-180"},[e("header-component"),e("root-content",{key:t.client})],1):t._e()],1):t._e()},d=[],f=function(){var t=this,e=t._self._c;return e("header",{staticClass:"navbar app-navbar px-4 bg-white v2-theme custom"},[e("header-left"),t.$isMobile?t._e():e("div",{staticClass:"ml-auto mr-1 d-flex"},[e("account-info"),e("el-dropdown",{attrs:{trigger:"click"},on:{command:t.updateStatus,"visible-change":t.handleVisibleChange}},[e("el-badge",{staticClass:"item mr-3",attrs:{value:t.countUnreadNotifications,max:99}},[e("el-icon",{staticClass:"el-icon-message-solid",attrs:{name:"bell"}})],1),e("el-dropdown-menu",{staticClass:"notification-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.notifications,(function(n){return e("div",{key:n.id,staticClass:"notification-item"},[e("el-avatar",{attrs:{src:n.user.avatarUrl}}),e("div",{staticClass:"notification-content"},[e("span",{staticClass:"notification-author"},[t._v(t._s(n.user.fullname))]),t._v(" \n            "),e("span",{staticClass:"notification-text"},[t._v(t._s(n.content))])])],1)})),0)],1)],1)],1)},h=[],m=(n("96cf"),n("1da1")),p=(n("d25f"),function(){var t=this,e=t._self._c;return e("div",{class:{"in-drawer pb-3":t.inDrawer}},[e("ul",{staticClass:"left-navbar"},[e("li",{staticClass:"order-1 order-md-5 pl-5 pr-md-0"},[e("el-dropdown",{staticClass:"align-text-center",attrs:{trigger:"click"},on:{command:t.handleCommand}},[e("span",{staticClass:"text-black",staticStyle:{cursor:"pointer"}},[e("b",[t._v(t._s(this.$store.getters.user.fullname))]),e("el-badge",{staticClass:"item",attrs:{value:this.$store.getters.user.is_admin?"Admin":""}},[e("img",{staticClass:"avatar rounded-pill mb-1 mr-2 ml-2",attrs:{src:t.paths,alt:"avatar",width:30}})])],1),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{icon:"fa fa-user-o",disabled:""}},[t._v(t._s(this.$store.getters.user.email))]),e("el-dropdown-item",{attrs:{icon:"el-icon-s-custom",command:"change_avatar"}},[t._v("Đổi avatar")]),e("el-dropdown-item",{attrs:{icon:"el-icon-s-custom",command:"change_pass"}},[t._v("Đổi mật khẩu")]),e("el-dropdown-item",{attrs:{command:"logout",icon:"fa fa-sign-out"}},[t._v("Đăng xuất")])],1)],1)],1)]),e("AvatarChangeDialog",{ref:"avatarChangeDialog",on:{"change-avatar":t.handleChangeAvatar}})],1)}),b=[],g=(n("ac6a"),n("456d"),n("9690")),v=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{visible:t.dialogVisible,title:"Chọn Avatar mới",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.resetDialog}},[e("el-form",{ref:"avatarForm",attrs:{model:t.avatarForm,"label-width":"80px"}},[e("el-form-item",[e("el-upload",{attrs:{action:t.uploadActionURL,"list-type":"picture-card","on-success":t.handleAvatarUploadSuccess,"auto-upload":!0,"show-file-list":!1,"on-change":t.handleAvatarChange}},[e("i",{staticClass:"el-icon-plus"})])],1)],1),t.previewUrl?e("div",{staticClass:"avatar-preview"},[e("img",{attrs:{src:t.previewUrl,alt:"Avatar Preview"}})]):t._e(),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Hủy")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmAvatar}},[t._v("Xác nhận")])],1)],1)],1)},k=[],_=n("c24f"),y={data:function(){return{dialogVisible:!1,avatarForm:{file:null,name:"",path:""},previewUrl:"",uploadActionURL:"".concat("https://backend-3lvb.onrender.com","/public/upload")}},created:function(){},methods:{resetDialog:function(){this.dialogVisible=!1,this.avatarForm.file=null,this.previewUrl=null},handleAvatarChange:function(t,e){var n=this;if(1===e.length){this.avatarForm.file=t,this.avatarForm.name=t.name;var r=new FileReader;r.onload=function(t){n.previewUrl=t.target.result},r.readAsDataURL(t.raw||t.originFileObj)}else this.previewUrl=null,this.$message.error("Vui lòng chọn chỉ một hình ảnh.")},handleAvatarUploadSuccess:function(t,e,n){var r=t.files[0];this.avatarForm.name=r.filename,this.avatarForm.path="".concat("https://backend-3lvb.onrender.com").concat(r.path),console.log("H:"+this.avatarForm.path)},confirmAvatar:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.avatarForm.file||!this.avatarForm.file.raw){t.next=16;break}return console.log("22333:"+this.avatarForm.path),t.prev=2,t.next=5,Object(_["i"])(this.$store.getters.user._id,{newUrl:this.avatarForm.path});case 5:t.sent,this.$emit("change-avatar",this.previewUrl),this.resetDialog(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),console.error(t.t0),this.$message.error("Có lỗi xảy ra khi cập nhật avatar.");case 14:t.next=17;break;case 16:this.$message.error("Vui lòng chọn hình ảnh trước khi xác nhận.");case 17:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}()}},w=y,T=(n("8351"),n("0c7c")),S=Object(T["a"])(w,v,k,!1,null,"3d56f626",null),C=S.exports,E={props:{inDrawer:{type:Boolean,default:!1}},data:function(){return{showDialogLockSession:!1,countdown:60,isSetting:!1,lock:{enabled:!1,period:5},theme:!1,dataUser:{},paths:""}},components:{AvatarChangeDialog:C},created:function(){this.getUser()},methods:{getUser:function(){this.paths=this.$store.getters.currentUser.avatarUrl},changeTheme:function(){var t=this.theme?"v2":"";Object(g["b"])("layout","THEME",t),this.$store.dispatch("setNewTheme","v2"===t)},logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push({path:"/login"}).catch((function(){}))}))},handleCommand:function(t){switch(t){case"logout":this.logout();break;case"change_avatar":this.showAvatarChangeDialog();break;case"lock_session":this.showDialogLockSession=!0;break;default:return!1}},showAvatarChangeDialog:function(){this.$refs.avatarChangeDialog.dialogVisible=!0},handleChangeAvatar:function(t){this.paths=t},lockSession:function(){this.showDialogLockSession=!1,this.$store.dispatch("lockSession")},handleCounter:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.countdown<=0)){t.next=3;break}return this.lockSession(),t.abrupt("return",!1);case 3:if(this.isSetting||!this.showDialogLockSession){t.next=8;break}return this.countdown--,t.next=7,this.sleep(1e3);case 7:this.handleCounter();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sleep:function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))},editUser:function(){this.$router.push({name:"system_user_edit",params:{id:this.$store.state.user.user._id}}).catch((function(){}))}},computed:{user:function(){return this.$store.getters.user}},mounted:function(){var t=this;this.$watch("lock",(function(){t.$store.commit("LOCK_SETTING",t.lock)}),{deep:!0});var e=this.$store.state.user.lock;e&&Object.keys(e).length&&(this.lock=e),this.theme=this.isNewTheme},watch:{isSetting:function(t){t||this.handleCounter()},showDialogLockSession:function(t){t&&(this.countdown=60,this.handleCounter())}}},x=E,O=(n("c6aa"),Object(T["a"])(x,p,b,!1,null,"70f93121",null)),A=O.exports,N=function(){var t=this,e=t._self._c;return e("div",{class:t.$isMobile?"w-100":""},[e("div",{staticClass:"d-flex align-items-center"},[e("h4",{staticClass:"ml-2 font-weight-bold d-flex align-items-center justify-content-between justify-content-md-between mb-0"},[t.$isMobile?e("i",{staticClass:"fa fa-bars mr-3",on:{click:function(e){t.drawer=!0}}}):t._e(),e("b",[t._v(t._s(t.activeItem.name))])])]),e("el-drawer",{attrs:{visible:t.drawer,"show-close":!1,"custom-class":"background-drawer",withHeader:!1,direction:"ltr",size:"90vw"},on:{"update:visible":function(e){t.drawer=e}}},[e("div",{staticClass:"text-center py-4"},[e("img",{staticStyle:{width:"100%","max-width":"200px"},attrs:{src:n("cf05"),alt:"logo"}})]),e("account-info",{attrs:{"in-drawer":!0}}),e("sidebar",{attrs:{"is-header":!0},on:{active_item:function(e){t.drawer=!1}}})],1)],1)},j=[],I=(n("7514"),{Admin:[{name:"Tài liệu / Bài đăng",url:"/post",icon:"el-icon-document",color_icon:"#ff4d4d",type:"1"},{name:"Hỏi & Đáp",url:"/question",icon:"el-icon-question",color_icon:"#ff4d4d",type:"1"},{name:"Quản trị câu hỏi / Trả lời",url:"/questionTables",icon:"el-icon-s-grid",color_icon:"#f9b651",type:"1"},{name:"Quản trị tài liệu / Bài đăng",url:"/postTables",icon:"el-icon-menu",color_icon:"#ca2c2a",type:"1"},{name:"Quản lý người dùng",url:"/user",icon:"el-icon-user-solid",color_icon:"#84e8c8",type:"2"},{name:"Quản lý sinh viên",url:"/student",icon:"el-icon-user",color_icon:"#84e8c8",type:"2"},{name:"Quản lý cố vấn",url:"/consultant",icon:"el-icon-s-custom",color_icon:"#84e8c8",type:"2"},{name:"Chấm điểm rèn luyện",url:"/training_point",icon:"el-icon-reading",color_icon:"#0000FF",type:"3"},{name:"Duyệt phiếu điểm",url:"/detailTrainingPoint",icon:"el-icon-tickets",color_icon:"#0000FF",type:"3"},{name:"Kết quả rèn luyện",url:"/resultTraningPoint",icon:"el-icon-notebook-2",color_icon:"#0000FF",type:"3"},{name:"Tra cứu thông tin",url:"/note_book",icon:"el-icon-search",color_icon:"#FF6600\t",type:"1"},{name:"Cài đặt",url:"/setting",icon:"el-icon-s-tools",color_icon:"#010101"}],student:[{name:"Tài liệu / Bài đăng",url:"/post",icon:"el-icon-document",color_icon:"#ff4d4d",type:"1"},{name:"Hỏi & Đáp",url:"/question",icon:"el-icon-question",color_icon:"#ff4d4d",type:"1"},{name:"Quản trị Câu hỏi / Trả lời",url:"/questionTables",icon:"el-icon-s-grid",color_icon:"#f9b651",type:"1"},{name:"Quản trị Tài liệu / Bài đăng",url:"/postTables",icon:"el-icon-menu",color_icon:"#ca2c2a",type:"1"},{name:"Chấm điểm rèn luyện",url:"/training_point",icon:"el-icon-reading",color_icon:"#0000FF",type:"3"},{name:"Tra cứu thông tin",url:"/note_book",icon:"el-icon-search",color_icon:"#FF6600\t",type:"1"}],consultant:[{name:"Tài liệu / Bài đăng",url:"/post",icon:"el-icon-document",color_icon:"#ff4d4d",type:"1"},{name:"Hỏi & Đáp",url:"/question",icon:"el-icon-question",color_icon:"#ff4d4d",type:"1"},{name:"Quản trị câu hỏi / Trả lời",url:"/questionTables",icon:"el-icon-s-grid",color_icon:"#f9b651",type:"1"},{name:"Quản trị tài liệu / Bài đăng",url:"/postTables",icon:"el-icon-menu",color_icon:"#ca2c2a",type:"1"},{name:"Quản lý sinh viên",url:"/student",icon:"el-icon-user",color_icon:"#84e8c8",type:"2"},{name:"Chấm điểm rèn luyện",url:"/training_point",icon:"el-icon-reading",color_icon:"#0000FF",type:"3"},{name:"Duyệt phiếu điểm",url:"/detailTrainingPoint",icon:"el-icon-tickets",color_icon:"#0000FF",type:"3"},{name:"Kết quả rèn luyện",url:"/resultTraningPoint",icon:"el-icon-notebook-2",color_icon:"#0000FF",type:"3"},{name:"Tra cứu thông tin",url:"/note_book",icon:"el-icon-search",color_icon:"#FF6600\t",type:"1"}]}),P=function(){var t=this,e=t._self._c;return e("aside",{staticClass:"sidebar",class:{"w-180":!0,"w-100 position-static bg-none":t.isHeader},style:{height:t.sidebarHeight+"px"}},[t.isHeader?t._e():e("div",{staticClass:"d-flex flex-wrap",class:t.isSidebarExpand?"align-items-center justify-content-between":"justify-content-center"},[e("div",{staticClass:"text-center"}),e("div",{staticClass:"application",class:t.isSidebarExpand?"ml-2":"mt-2"},[t._m(0)])]),e("div",{staticClass:"wrapper-sidebar-menu"},[e("div",{staticClass:"custom-container"},[e("p",[t._v(t._s(t.getName()))]),e("el-icon",{staticClass:"el-icon-loading",staticStyle:{color:"rgb(248, 39, 67)"}})],1),e("ul",{staticClass:"sidebar-menu"},t._l(t.sidebars,(function(n,r){return"1"===n.type?e("sidebar-item",{key:r,attrs:{sidebar:n,index:r},on:{active_item:t.handleClickItem}}):t._e()})),1),"student"!=this.$store.getters.user.role?e("div",[e("div",{staticClass:"categoryManagement"},[e("p",[t._v("QUẢN LÝ DANH MỤC ")]),e("el-icon",{staticClass:"el-icon-caret-bottom",staticStyle:{color:"rgb(24, 61, 228)"}})],1),e("ul",{staticClass:"sidebar-menu"},t._l(t.sidebars,(function(n,r){return"2"===n.type?e("sidebar-item",{key:r,attrs:{sidebar:n,index:r},on:{active_item:t.handleClickItem}}):t._e()})),1)]):t._e(),"student"!=this.$store.getters.user.role?e("div",{staticClass:"trainingPoint"},[e("p",[t._v("ĐIỂM RÈN LUYỆN")]),e("el-icon",{staticClass:"el-icon-caret-bottom",staticStyle:{color:"rgb(24, 61, 228)"}})],1):t._e(),e("ul",{staticClass:"sidebar-menu"},t._l(t.sidebars,(function(n,r){return"3"===n.type?e("sidebar-item",{key:r,attrs:{sidebar:n,index:r},on:{active_item:t.handleClickItem}}):t._e()})),1)])])},U=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-apps"},[e("p",{staticClass:"title-app"},[t._v(" PHẦN MỀM ")]),e("p",{staticClass:"title-app"},[t._v(" CỐ VẤN HỌC TẬP")])])}],L=(n("2caf"),n("6762"),n("2fdb"),function(){var t=this,e=t._self._c;return e("li",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutSide,expression:"clickOutSide"}],staticClass:"sidebar-menu-item p-2 mt-2"},[[e("el-button",{staticClass:"px-2 w-100",class:{"border-0":!t.getSidebarActive&&!t.getRouteActive,active:t.getSidebarActive||t.getRouteActive},attrs:{plain:"",type:t.getSidebarActive||t.getRouteActive?"primary":""},on:{click:function(e){return t.showSidebarItem(t.sidebar,t.index,t.hasChildren)}}},[e("div",{staticClass:"d-flex flex-wrap align-items-center justify-content-center flex-column sidebar-item"},[t.sidebar.icon.includes("el-icon")||t.sidebar.icon.includes("fa fa-")?e("div",{staticClass:"icon"},[e("i",{class:t.sidebar.icon,style:"color: ".concat(t.sidebar.color_icon)})]):t._e(),e("b",{staticClass:"text mt-2"},[t._v(t._s(t.sidebar.name))])])])]],2)}),D=[],R=(n("28a5"),function(){var t=this,e=t._self._c;return e("".concat(t.icon,"-icon"),{tag:"component",attrs:{size:"22"}})}),$=[],F=n("0a35"),M={props:{icon:{type:String,require:!0}},components:{PackageIcon:F["b"],LayersIcon:F["a"],YoutubeIcon:F["c"]}},B=M,H=Object(T["a"])(B,R,$,!1,null,null,null),q=H.exports,W={props:["sidebar","index"],components:{FeatherIcons:q},data:function(){return{currentActive:null}},methods:{showSidebarItem:function(t,e,n){var r=this;n?this.$refs["sidebar"+e]&&this.$store.dispatch("changeCurrentSidebar",t.url).then((function(){r.$store.dispatch("changeSidebarHeight")})):this.sidebarLink(t)},hideSidebarItem:function(){var t=this;this.$store.dispatch("changeCurrentSidebar",null).then((function(){t.$store.dispatch("changeSidebarHeight",!0)}))},sidebarLink:function(t){return this.$emit("active_item"),this.hasChildren?"#":"dashboard"===t.url?this.$router.push({path:"/"}).catch((function(){})):this.$router.push({path:t.url}).catch((function(){}))},clickOutSide:function(){this.getCurrentSidebar===this.sidebar.url&&this.$store.dispatch("changeCurrentSidebar",null)},hasACLChildren:function(t,e){var n=this,r=!1;return Array.isArray(t)&&(r=t.some((function(t){return n.acl(e+"/"+t.url)}))),r}},computed:{getCurrentSidebar:function(){return this.$store.getters.currentSidebar},hasChildren:function(){return"children"in this.$props.sidebar&&this.$props.sidebar.children.length>=1},getRouteActive:function(){return this.$props.sidebar.url==="/"+this.$route.fullPath.split("/")[1]},getSidebarActive:function(){return this.getCurrentSidebar===this.$props.sidebar.url}}},G=W,Q=(n("5ece"),Object(T["a"])(G,L,D,!1,null,"3bc546cc",null)),z=Q.exports,K=(n("f559"),function(){var t=this,e=t._self._c;return e("el-collapse-item",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutSide,expression:"clickOutSide"}],staticClass:"sidebar-menu-item",attrs:{name:t.sidebar.url+t.index}},[e("div",{staticClass:"d-flex flex-wrap align-items-center sidebar-item bg-none",attrs:{slot:"title"},on:{click:function(e){return t.showSidebarItem(t.sidebar,t.index,t.hasChildren)}},slot:"title"},[t.sidebar.icon.includes("el-icon")||t.sidebar.icon.includes("fa fa-")?e("div",{staticClass:"icon"},[e("i",{class:t.sidebar.icon})]):e("feather-icons",{attrs:{icon:t.sidebar.icon}}),e("div",{staticClass:"text pl-1"},[t._v(t._s(t.sidebar.name))])],1),t.hasChildren?[e("el-collapse",{attrs:{accordion:""}},[t._l(t.sidebar.children,(function(n,r){return t._l(n.column,(function(n,i){return e("el-collapse-item",{key:n.name+t.index+i+r,attrs:{name:t.sidebar.url+t.index+r+i}},[n.name&&t.hasACLChildren(n.item,t.sidebar.url)?e("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(n.name))]):t._e(),e("div",[t._l(n.item,(function(n,a){return[t.acl(n.url)&&n.url.startsWith("/")?[e("router-link",{key:t.sidebar.url+n.name+t.index+r+i+a,attrs:{slot:"title",to:n.url},nativeOn:{click:function(e){return t.goTo(n.url)}},slot:"title"},[t._v(t._s(n.name))])]:t.acl(t.sidebar.url+"/"+n.url)?[e("router-link",{key:t.sidebar.url+n.name+t.index+r+i+a,attrs:{slot:"title",to:"/"+t.sidebar.url+"/"+n.url},nativeOn:{click:function(e){return t.goTo("/"+t.sidebar.url+"/"+n.url)}},slot:"title"},[t._v(t._s(n.name))])]:t._e()]}))],2)])}))}))],2)]:t._e()],2)}),V=[],Y={props:["sidebar","index"],components:{FeatherIcons:q},data:function(){return{currentActive:null}},methods:{showSidebarItem:function(t,e,n){var r=this;n?this.$refs["sidebar"+e]&&this.$store.dispatch("changeCurrentSidebar",t.url).then((function(){r.$store.dispatch("changeSidebarHeight")})):this.sidebarLink(t)},goTo:function(t){this.$router.push({path:t}).catch((function(){})),this.$root.$emit("sidebarDrawer",!1)},sidebarLink:function(t){return this.hasChildren?"#":"dashboard"===t.url?this.$router.push({path:"/"}).catch((function(){})):this.$router.push({path:t.url}).catch((function(){}))},clickOutSide:function(){this.getCurrentSidebar===this.sidebar.url&&this.$store.dispatch("changeCurrentSidebar",null)},hasACLChildren:function(t,e){var n=this,r=!1;return Array.isArray(t)&&(r=t.some((function(t){return n.acl(e+"/"+t.url)}))),r}},computed:{getCurrentSidebar:function(){return this.$store.getters.currentSidebar},hasChildren:function(){return"children"in this.$props.sidebar&&this.$props.sidebar.children.length>=1},getRouteActive:function(){return this.$props.sidebar.url===this.$route.fullPath.split("/")[1]},getSidebarActive:function(){return this.getCurrentSidebar===this.$props.sidebar.url}}},J=Y,X=(n("2b13"),Object(T["a"])(J,K,V,!1,null,"507ad21e",null)),Z=X.exports,tt={components:{SidebarItem:z,SidebarItemCollapse:Z},props:{isHeader:{type:Boolean,default:!1}},data:function(){return{sidebars:[],isSidebarExpand:!1}},created:function(){var t=this.$store.getters.user.role||"student";this.sidebars=I[t]},methods:{handleClickItem:function(){this.$emit("active_item")},handleSidebarExpand:function(){this.isSidebarExpand=!this.isSidebarExpand,this.$emit("sidebarExpand",this.isSidebarExpand)},scrollHeight:function(){return document.documentElement.scrollHeight},getName:function(){var t=this.$store.getters.user.role;return"student"==t?"SINH VIÊN":"consultant"==t?"CỐ VẤN":"Admin"==t?"ADMIN":void 0}},computed:{sidebarHeight:function(){return this.$store.getters.sidebarHeight},hasACL:function(){var t=this.$store.getters["acl"];return"*"===t||Array.isArray(t)&&t.length}}},et=tt,nt=(n("2a71"),Object(T["a"])(et,P,U,!1,null,"1c32a1dd",null)),rt=nt.exports,it=function(){var t=this,e=t._self._c;return e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t._l(t.breadcrumb,(function(n,r){return[n.meta&&n.meta.title?e("el-breadcrumb-item",{key:r},[t._v("\n      "+t._s(n.meta.title)+"\n    ")]):t._e()]}))],2)},at=[],ot={computed:{breadcrumb:function(){return this.$store.getters.breadcrumb||[]}}},ct=ot,ut=Object(T["a"])(ct,it,at,!1,null,null,null),st=ut.exports,lt={components:{Sidebar:rt,AccountInfo:A,Breadcrumb:st},data:function(){return{drawer:!1,routePath:this.$router.history.current.path}},watch:{$route:function(t,e){this.routePath=t.path}},created:function(){var t=this;this.$root.$on("sidebarDrawer",(function(e){return t.drawer=e}))},computed:{pageTitle:function(){return this.$store.getters.pageTitle},activeItem:function(){var t=this,e=I[this.$store.getters.user.role].find((function(e){return e.url==t.routePath}));return e||{name:""}},menuItems:function(){var t=this;return I[this.$store.getters.user.role].filter((function(e){return e.url!=t.activeItem.url}))}}},dt=lt,ft=(n("ed0a"),Object(T["a"])(dt,N,j,!1,null,"22600c9e",null)),ht=ft.exports,mt=(n("b54a"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"ml-3"},[e("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":t.querySearch,placeholder:"Please input"},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.item;return[e("div",{staticClass:"value"},[t._v(t._s(r.value))]),e("span",{staticClass:"link"},[t._v(t._s(r.link))])]}}]),model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[e("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},on:{click:t.handleIconClick},slot:"suffix"})])],1)}),pt=[],bt=(n("57e7"),{data:function(){return{links:[],state:""}},methods:{querySearch:function(t,e){var n=this.links,r=t?n.filter(this.createFilter(t)):n;e(r)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},loadAll:function(){return[{value:"vue",link:"https://github.com/vuejs/vue"},{value:"element",link:"https://github.com/ElemeFE/element"},{value:"cooking",link:"https://github.com/ElemeFE/cooking"},{value:"mint-ui",link:"https://github.com/ElemeFE/mint-ui"},{value:"vuex",link:"https://github.com/vuejs/vuex"},{value:"vue-router",link:"https://github.com/vuejs/vue-router"},{value:"babel",link:"https://github.com/babel/babel"}]},handleSelect:function(t){console.log(t)},handleIconClick:function(t){console.log(t)}},mounted:function(){this.links=this.loadAll()}}),gt=bt,vt=(n("fb5b"),Object(T["a"])(gt,mt,pt,!1,null,"0d799331",null)),kt=vt.exports,_t=n("277f"),yt=(n("daa8"),{components:{AccountInfo:A,HeaderLeft:ht,Search:kt},data:function(){return{notifications:[]}},created:function(){var t=this;this.loadData(),this.$store.getters.socket.on("updateNotifications",(function(){t.loadData()}))},computed:{countUnreadNotifications:function(){return this.notifications.filter((function(t){return!t.viewed})).length}},methods:{loadData:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,o,c,u=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_t["a"])();case 3:if(e=t.sent,!e.data.success){t.next=21;break}return n=e.data.notifications,i=n.filter((function(t){return t.user._id!==u.$store.getters.user._id})),t.next=9,Object(_["f"])(this.$store.getters.user._id);case 9:if(a=t.sent,!a.data.success){t.next=18;break}return o=a.data.notifications,c=i.filter((function(t){return!o.some((function(e){return e._id===t._id}))})),o.push.apply(o,Object(r["a"])(c)),t.next=16,Object(_["j"])(this.$store.getters.user._id,o).then((function(t){t.data.success?u.notifications=o.reverse():console.error("Không thành công: ",t.data)})).catch((function(t){console.error("Lỗi khi lấy thông báo: ",t)}));case 16:t.next=19;break;case 18:console.error("Không thành công khi lấy dataList: ",a.data);case 19:t.next=22;break;case 21:console.error("Không thành công khi lấy apiNotifications: ",e.data);case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](0),console.error("Lỗi khi tải thông báo: ",t.t0);case 27:case"end":return t.stop()}}),t,this,[[0,24]])})));function e(){return t.apply(this,arguments)}return e}(),updateStatus:function(){console.log("123")},handleVisibleChange:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e&&this.countUnreadNotifications>0)){t.next=5;break}return console.log("Dropdown visible state changed to:",e),t.next=4,Object(_["k"])(this.$store.getters.user._id);case 4:this.loadData();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),wt=yt,Tt=(n("59f8"),Object(T["a"])(wt,f,h,!1,null,"0f5b434e",null)),St=Tt.exports,Ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[t._l(t.alerts,(function(n,r){return e("transition",{key:"alert"+r,attrs:{name:"el-alert-fade"}},[e("div",{staticClass:"el-alert is-light mb-1",class:"el-alert--"+n.type,attrs:{role:"alert"}},[e("i",{staticClass:"el-alert__icon is-big",class:"el-icon-"+n.type}),e("div",{staticClass:"el-alert__content"},["title"in n?e("span",{staticClass:"el-alert__title is-bold"},[t._v(t._s(n.title))]):t._e(),e("p",{staticClass:"el-alert__description"},[t._v(t._s(n.message))]),e("i",{staticClass:"el-alert__closebtn el-icon-close",on:{click:function(e){return t.dismissAlert(r)}}})])])])})),e("div",{},[e("div",{staticClass:"p-1 p-md-2"},[e("div",{class:t.$isMobile?"":"p-1"},[t.subtitle?e("div",{staticClass:"content-title pb-4 mt-n4"},[t._v(t._s(t.subtitle))]):t._e(),e("router-view",{key:t.reRender})],1)])])],2)},Et=[],xt={components:{Breadcrumb:st},methods:{dismissAlert:function(t){this.$store.dispatch("dismissAlert",t)},doAction:function(t){if(t.callback&&"function"==typeof t.callback)t.callback();else if(t.route){var e={name:t.route};t.routeParams&&(e.params=t.routeParams),this.$router.push(e)}else t.path?this.$router.push(t.path):console.warn('Button "'.concat(t.label,'" has an invalid action'))},handleMoreAction:function(t){this.doAction(t)}},computed:{alerts:function(){return this.$store.getters.alerts},loadingStatus:function(){return this.$store.getters.loadingStatus},reRender:function(){return this.$store.getters.reRender},pageTitle:function(){return this.$store.getters.pageTitle},toolbarWidges:function(){return this.$store.getters.toolbarWidges||[]},subtitle:function(){return this.$store.getters.subtitle||""}}},Ot=xt,At=(n("ac5c"),Object(T["a"])(Ot,Ct,Et,!1,null,"d851af5a",null)),Nt=At.exports,jt=function(){var t=this,e=t._self._c;return e("div",[e("el-button",{staticClass:"chat",attrs:{type:"primary"},on:{click:t.openChat}},[t._v("\n    Open Chat\n  ")]),e("el-drawer",{attrs:{title:"ChatGPT Demo",visible:t.drawer,"with-header":!1},on:{"update:visible":function(e){t.drawer=e}}},[e("main",{staticClass:"min-h-screen bg-gray-100 p-8",attrs:{id:"app"}},[e("div",{staticClass:"max-w-2xl mx-auto"},[e("div",{staticClass:"mb-4"},[e("h1",{staticClass:"text-4xl font-bold text-center"},[t._v("ChatGPT Demo in 1 file")])]),e("div",{staticClass:"bg-white shadow rounded-lg p-6"},[e("div",{staticClass:"flow-root"},[e("div",{staticClass:"mt-6"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.sendMessage.apply(null,arguments)}}},[e("div",{staticClass:"flex space-x-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userInput,expression:"userInput"}],staticClass:"flex-1 rounded-md shadow-sm p-2",attrs:{type:"text",placeholder:"Type your message here..."},domProps:{value:t.userInput},on:{input:function(e){e.target.composing||(t.userInput=e.target.value)}}}),e("button",{staticClass:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",attrs:{type:"submit"}},[t.isLoading?e("svg",{staticClass:"w-4 relative -top-0.5 mr-1 inline-block text-gray-200 animate-spin fill-blue-600",attrs:{"aria-hidden":"true",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"}}):t._e(),t._v("\n                    Send\n                  ")])])])]),e("ul",{staticClass:"divide-y divide-gray-200"},t._l(t.messages,(function(n){return e("li",{staticClass:"py-3 sm:py-4"},["system"!==n.role?e("div",{staticClass:"flex items-center space-x-4",class:t.messageClasses(n.role)},[e("div",{staticClass:"flex-shrink-0"},["assistant"===n.role?e("img",{staticClass:"w-8 h-8 rounded-full",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTagONv1r-0HPnlnWClF12amS_KdrPX83zlhcXHyek&s",alt:"ChatGPT Icon"}}):t._e()]),e("div",{staticClass:"flex-1 min-w-0"},[e("p",{staticClass:"text-sm text-gray-800 break-normal whitespace-pre-line",class:t.messageClasses(n.role)},["user"===n.role?e("span",{staticClass:"font-bold"},[t._v("Code Dạo: ")]):t._e(),t._v("\n                      "+t._s(n.content)+"\n                    ")])])]):t._e()])})),0)])])])])])],1)},It=[],Pt=n("bc3a"),Ut=n.n(Pt),Lt={data:function(){return{drawer:!1,userInput:"",messages:[{role:"system",content:"You're a helpful chat bot. Answer short and concise in 150 tokens only."}],isLoading:!1,chatGPTKey:"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",openAiEndpoint:"https://api.openai.com/v1",requestCount:0,requestTimer:null,lastRequestTime:null,cooldownTime:6e4,maxRequestsPerCooldown:5,cooldownTimer:null,cooldownActive:!1}},methods:{openChat:function(){this.drawer=!0},sendMessage:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=(new Date).getTime(),!this.cooldownActive){t.next=4;break}return console.log("Too many requests. Please wait and try again later."),t.abrupt("return");case 4:if(!(this.requestCount>=this.maxRequestsPerCooldown&&e-this.lastRequestTime<this.cooldownTime)){t.next=8;break}return console.log("Too many requests. Waiting for cooldown..."),this.startCooldown(),t.abrupt("return");case 8:return this.requestCount++,this.messages.push({role:"user",content:this.userInput}),t.prev=10,this.isLoading=!0,this.userInput="",t.next=15,Ut.a.post("".concat(this.openAiEndpoint,"/chat/completions"),{model:"gpt-3.5-turbo-1106",messages:this.messages,temperature:.6,max_tokens:100},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.chatGPTKey)}});case 15:n=t.sent,this.messages.push({role:"assistant",content:n.data.choices[0].message.content}),this.resetCooldown(),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](10),console.error("There was an error with the API request",t.t0),t.t0.response&&429===t.t0.response.status&&(console.log("Too many requests. Waiting for cooldown..."),this.startCooldown());case 24:return t.prev=24,this.isLoading=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,this,[[10,20,24,27]])})));function e(){return t.apply(this,arguments)}return e}(),startCooldown:function(){var t=this;this.cooldownActive=!0,this.cooldownTimer=setTimeout((function(){t.resetCooldown(),console.log("Cooldown period ended. You can now send requests.")}),this.cooldownTime)},resetCooldown:function(){this.requestCount=0,this.lastRequestTime=(new Date).getTime(),this.cooldownActive=!1,this.cooldownTimer&&clearTimeout(this.cooldownTimer)},messageClasses:function(t){return{"text-right justify-end":"user"===t,"text-left justify-start":"assistant"===t}}}},Dt=Lt,Rt=(n("4fc8"),Object(T["a"])(Dt,jt,It,!1,null,"e44d8b30",null)),$t=Rt.exports,Ft=n("b775");function Mt(){return Object(Ft["a"])({url:"/helper/init",method:"get"})}var Bt={data:function(){return{isLoaded:!1,isSidebarExpand:!1}},components:{HeaderComponent:St,RootContent:Nt,SideBarComponent:rt,chat:$t},created:function(){var t=this;Mt().then((function(e){e.data.success&&t.$store.dispatch("setFirstData",e.data),e.headers["system-name"]&&t.$store.commit("SET_SYSTEM_NAME",e.headers["system-name"])})).finally((function(){t.isLoaded=!0}))},mounted:function(){var t=Object(g["a"])("layout","THEME")||this.THEME;this.theme="v2"===t,this.$store.dispatch("setNewTheme",this.theme)},computed:{user:function(){return this.$store.getters.user},loadingStatus:function(){return this.$store.getters.loadingStatus},client:function(){return this.$store.getters.client||""}},methods:{handleSidebar:function(t){this.isSidebarExpand=t}}},Ht=Bt,qt=(n("0d90"),Object(T["a"])(Ht,l,d,!1,null,"debc5b56",null)),Wt=qt.exports,Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",staticStyle:{"margin-top":"8rem"}},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6 text-center"},[e("h1",{staticClass:"text-danger"},[t._v("404 Not Found")]),e("h5",[t._v("Woops, Look like this page doesn't exist")]),e("button",{staticClass:"mt-3 btn btn-danger",on:{click:function(e){return t.$router.back()}}},[t._v("Go Back")]),e("button",{staticClass:"mt-3 btn btn-warning ml-3",on:{click:function(e){return t.$router.push("/")}}},[t._v("Dashboard")])])])])},Qt=[],zt={},Kt=Object(T["a"])(zt,Gt,Qt,!1,null,null,null),Vt=Kt.exports,Yt="user",Jt="User",Xt=[{path:Yt,component:function(){return Promise.all([n.e("chunk-744c9ad6"),n.e("chunk-e7d3ebc4")]).then(n.bind(null,"2ca3"))},name:"".concat(Yt,"_main"),meta:{title:Jt}},{path:"".concat(Yt,"/new"),component:function(){return n.e("chunk-b482f398").then(n.bind(null,"629d"))},name:"".concat(Yt,"_new"),meta:{title:"Tạo ".concat(Jt)}},{path:"".concat(Yt,"/edit/:id"),component:function(){return n.e("chunk-b482f398").then(n.bind(null,"629d"))},name:"".concat(Yt,"_edit"),meta:{title:"Chỉnh Sửa ".concat(Jt)}}],Zt="setting",te="Cài đặt",ee=[{path:Zt,component:function(){return n.e("chunk-2d0c0e94").then(n.bind(null,"4497"))},name:"".concat(Zt,"_main"),meta:{title:te}}],ne="question",re="Câu hỏi",ie="Question",ae=[{path:ne,component:function(){return n("eec5")("./".concat(ie))},name:"".concat(ne,"_main"),meta:{title:re}}],oe="questionTables",ce="Quản trị câu hỏi",ue="Question",se=[{path:oe,component:function(){return n("9266")("./".concat(ue,"/questionTables"))},name:"".concat(oe,"_main"),meta:{title:ce}},{path:"Question/:id",component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-df8022d6"),n.e("chunk-b0bc3c8e"),n.e("chunk-6f0b6ca2")]).then(n.bind(null,"9ff0"))},name:"Question",meta:{title:" ".concat(ce)}}],le="training_point",de="Chấm điểm rèn luyện",fe="training_point",he=[{path:le,component:function(){return n("eec5")("./".concat(fe))},name:"".concat(le,"_main"),meta:{title:de}}],me="/detailTrainingPoint",pe="Quản trị điểm rèn luyện",be="training_point",ge=[{path:me,component:function(){return n("c78c")("./".concat(be,"/detailTrainingPoint"))},name:"detailTrainingPoint_main",meta:{title:pe}},{path:"".concat(me,"/new"),component:function(){return n.e("chunk-b482f398").then(n.bind(null,"629d"))},name:"".concat(me,"_new"),meta:{title:"Tạo ".concat(pe)}},{path:"".concat(me,"/edit/:id"),component:function(){return n.e("chunk-340e5fa9").then(n.bind(null,"51c5"))},name:"detailTrainingPoint_edit",meta:{title:"Chỉnh Sửa ".concat(pe)}}],ve="/resultTraningPoint",ke="Chấm điểm rèn luyện",_e="training_point",ye=[{path:ve,component:function(){return n("75a3")("./".concat(_e,"/resultTraningPoint"))},name:"".concat(ve,"_main"),meta:{title:ke}}],we="note_book",Te="Sổ tay sinh viên",Se="NoteBook",Ce=[{path:we,component:function(){return n("eec5")("./".concat(Se))},name:"".concat(we,"_main"),meta:{title:Te}}],Ee="student",xe="Student",Oe=[{path:Ee,component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-744c9ad6"),n.e("chunk-9f0770e0")]).then(n.bind(null,"ad43"))},name:"".concat(Ee,"_main"),meta:{title:xe}},{path:"".concat(Ee,"/new"),component:function(){return n.e("chunk-2d0dd413").then(n.bind(null,"8137"))},name:"".concat(Ee,"_new"),meta:{title:"Tạo mới sinh viên"}},{path:"".concat(Ee,"/edit/:id"),component:function(){return n.e("chunk-2d0dd413").then(n.bind(null,"8137"))},name:"".concat(Ee,"_edit"),meta:{title:"Chỉnh Sửa ".concat(xe)}}],Ae="consultant",Ne="Consultant",je=[{path:Ae,component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-744c9ad6"),n.e("chunk-7e33e04a")]).then(n.bind(null,"11a2"))},name:"".concat(Ae,"_main"),meta:{title:Ne}},{path:"".concat(Ae,"/new"),component:function(){return n.e("chunk-3a43c98e").then(n.bind(null,"77f3"))},name:"".concat(Ae,"_new"),meta:{title:"Tạo mới cố vấn"}},{path:"".concat(Ae,"/edit/:id"),component:function(){return n.e("chunk-3a43c98e").then(n.bind(null,"77f3"))},name:"".concat(Ae,"_edit"),meta:{title:"Chỉnh Sửa ".concat(Ne)}}],Ie="post",Pe="Bài đăng",Ue="Post",Le=[{path:Ie,component:function(){return n("eec5")("./".concat(Ue))},name:"".concat(Ie,"_main"),meta:{title:Pe}},{path:"".concat(Ie,"/edit/:id"),component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-744c9ad6"),n.e("chunk-3f5a1163"),n.e("chunk-b0bc3c8e"),n.e("chunk-2bc32f84")]).then(n.bind(null,"d98a"))},name:"PostEdit",meta:{title:" ".concat(Pe)}}],De="PostTables",Re="Bài đăng",$e="postTables",Fe=[{path:De,component:function(){return n("6ab2")("./".concat($e))},name:"".concat(De,"_main"),meta:{title:Re}},{path:"Post/:id",component:function(){return Promise.all([n.e("chunk-5b6ad2d8"),n.e("chunk-744c9ad6"),n.e("chunk-3f5a1163"),n.e("chunk-b0bc3c8e"),n.e("chunk-2bc32f84")]).then(n.bind(null,"d98a"))},name:"Post",meta:{title:Re}}];i["default"].use(a["a"]);var Me=[{path:"/login",name:"Login",component:function(){return n.e("chunk-3c3b6ed4").then(n.bind(null,"d23a"))}},{path:"/register",name:"Register",component:function(){return n.e("chunk-2d208708").then(n.bind(null,"a597"))}}],Be={path:"/",component:Wt,redirect:"dashboard",name:"app",meta:{authRequired:!1},children:[{path:"dashboard",component:function(){return n.e("chunk-3694213e").then(n.bind(null,"aecc"))},name:"dashboard",meta:{title:"Dashboard"}}].concat(Object(r["a"])(ee),Object(r["a"])(ae),Object(r["a"])(se),Object(r["a"])(he),Object(r["a"])(ge),Object(r["a"])(ye),Object(r["a"])(Ce),Object(r["a"])(Xt),Object(r["a"])(Oe),Object(r["a"])(je),Object(r["a"])(Le),Object(r["a"])(Fe))},He=new a["a"]({routes:[Be].concat(Me,[{path:"*",name:"not_found",component:Vt,meta:{title:"404 Not Found"}}]),scrollBehavior:function(t,e,n){return n||{x:0,y:0}}});He.onError((function(t){/Loading (chunk|CSS chunk) [\w|-]* failed/gi.test(t.message)&&navigator.onLine&&He.history.pending&&He.go(He.history.pending)})),He.beforeEach(u),He.afterEach(s);e["a"]=He},e2cf:function(t,e,n){},ed0a:function(t,e,n){"use strict";n("5d85")},eec5:function(t,e,n){var r={"./Consultant":["11a2","chunk-5b6ad2d8","chunk-744c9ad6","chunk-7e33e04a"],"./Consultant/":["11a2","chunk-5b6ad2d8","chunk-744c9ad6","chunk-7e33e04a"],"./Consultant/Form":["77f3","chunk-3a43c98e"],"./Consultant/Form.vue":["77f3","chunk-3a43c98e"],"./Consultant/index":["11a2","chunk-5b6ad2d8","chunk-744c9ad6","chunk-7e33e04a"],"./Consultant/index.vue":["11a2","chunk-5b6ad2d8","chunk-744c9ad6","chunk-7e33e04a"],"./NoteBook":["9e88","chunk-b48aeb9c"],"./NoteBook/":["9e88","chunk-b48aeb9c"],"./NoteBook/data":["046c","chunk-2d0a3ce7"],"./NoteBook/data.js":["046c","chunk-2d0a3ce7"],"./NoteBook/decision":["8b34","chunk-2d0e8c01"],"./NoteBook/decision.vue":["8b34","chunk-2d0e8c01"],"./NoteBook/index":["9e88","chunk-b48aeb9c"],"./NoteBook/index.vue":["9e88","chunk-b48aeb9c"],"./NoteBook/inforUser":["e925","chunk-74585217"],"./NoteBook/inforUser.vue":["e925","chunk-74585217"],"./NoteBook/notify":["faf0","chunk-93379bf4"],"./NoteBook/notify.vue":["faf0","chunk-93379bf4"],"./NoteBook/resultLearning":["f966","chunk-54380716"],"./NoteBook/resultLearning.vue":["f966","chunk-54380716"],"./NoteBook/trainingPoint":["76ca","chunk-19b801a4"],"./NoteBook/trainingPoint.vue":["76ca","chunk-19b801a4"],"./Overview":["aecc","chunk-3694213e"],"./Overview.vue":["aecc","chunk-3694213e"],"./Post":["d98a","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-b0bc3c8e","chunk-2bc32f84"],"./Post/":["d98a","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-b0bc3c8e","chunk-2bc32f84"],"./Post/detailPost":["9a88","chunk-5b6ad2d8","chunk-3f5a1163"],"./Post/detailPost.vue":["9a88","chunk-5b6ad2d8","chunk-3f5a1163"],"./Post/index":["d98a","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-b0bc3c8e","chunk-2bc32f84"],"./Post/index.vue":["d98a","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-b0bc3c8e","chunk-2bc32f84"],"./Post/postItem":["ecde","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-1c7b385a"],"./Post/postItem.vue":["ecde","chunk-5b6ad2d8","chunk-744c9ad6","chunk-3f5a1163","chunk-1c7b385a"],"./Post/postTables":["ee69","chunk-5b6ad2d8","chunk-744c9ad6","chunk-46f936a0"],"./Post/postTables.vue":["ee69","chunk-5b6ad2d8","chunk-744c9ad6","chunk-46f936a0"],"./Question":["9ff0","chunk-5b6ad2d8","chunk-df8022d6","chunk-b0bc3c8e","chunk-6f0b6ca2"],"./Question/":["9ff0","chunk-5b6ad2d8","chunk-df8022d6","chunk-b0bc3c8e","chunk-6f0b6ca2"],"./Question/Answer":["868a","chunk-5b6ad2d8","chunk-45ece578"],"./Question/Answer.vue":["868a","chunk-5b6ad2d8","chunk-45ece578"],"./Question/EmojiPicker":["425e","chunk-782794c5"],"./Question/EmojiPicker.vue":["425e","chunk-782794c5"],"./Question/Question":["3ca4","chunk-5b6ad2d8","chunk-df8022d6","chunk-d8a1128c"],"./Question/Question.vue":["3ca4","chunk-5b6ad2d8","chunk-df8022d6","chunk-d8a1128c"],"./Question/detailQuestion":["188b","chunk-5b6ad2d8","chunk-df8022d6"],"./Question/detailQuestion.vue":["188b","chunk-5b6ad2d8","chunk-df8022d6"],"./Question/index":["9ff0","chunk-5b6ad2d8","chunk-df8022d6","chunk-b0bc3c8e","chunk-6f0b6ca2"],"./Question/index.vue":["9ff0","chunk-5b6ad2d8","chunk-df8022d6","chunk-b0bc3c8e","chunk-6f0b6ca2"],"./Question/questionTables":["fcd5","chunk-5b6ad2d8","chunk-744c9ad6","chunk-75268160"],"./Question/questionTables.vue":["fcd5","chunk-5b6ad2d8","chunk-744c9ad6","chunk-75268160"],"./Setting":["4497","chunk-2d0c0e94"],"./Setting/":["4497","chunk-2d0c0e94"],"./Setting/index":["4497","chunk-2d0c0e94"],"./Setting/index.vue":["4497","chunk-2d0c0e94"],"./Student":["ad43","chunk-5b6ad2d8","chunk-744c9ad6","chunk-9f0770e0"],"./Student/":["ad43","chunk-5b6ad2d8","chunk-744c9ad6","chunk-9f0770e0"],"./Student/Form":["8137","chunk-2d0dd413"],"./Student/Form.vue":["8137","chunk-2d0dd413"],"./Student/index":["ad43","chunk-5b6ad2d8","chunk-744c9ad6","chunk-9f0770e0"],"./Student/index.vue":["ad43","chunk-5b6ad2d8","chunk-744c9ad6","chunk-9f0770e0"],"./User":["2ca3","chunk-744c9ad6","chunk-e7d3ebc4"],"./User/":["2ca3","chunk-744c9ad6","chunk-e7d3ebc4"],"./User/Form":["629d","chunk-b482f398"],"./User/Form.vue":["629d","chunk-b482f398"],"./User/index":["2ca3","chunk-744c9ad6","chunk-e7d3ebc4"],"./User/index.vue":["2ca3","chunk-744c9ad6","chunk-e7d3ebc4"],"./training_point":["51c5","chunk-340e5fa9"],"./training_point/":["51c5","chunk-340e5fa9"],"./training_point/detailTrainingPoint":["366e","chunk-5b6ad2d8","chunk-744c9ad6","chunk-145b11e1"],"./training_point/detailTrainingPoint.vue":["366e","chunk-5b6ad2d8","chunk-744c9ad6","chunk-145b11e1"],"./training_point/index":["51c5","chunk-340e5fa9"],"./training_point/index.vue":["51c5","chunk-340e5fa9"],"./training_point/resultTraningPoint":["e32d","chunk-5b6ad2d8","chunk-744c9ad6","chunk-1d64201e"],"./training_point/resultTraningPoint.vue":["e32d","chunk-5b6ad2d8","chunk-744c9ad6","chunk-1d64201e"]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="eec5",t.exports=i},fb02:function(t,e,n){"use strict";(function(t){n("d25f"),n("28a5"),n("a481"),n("6d67"),n("d92a"),n("5df3"),n("1c4c"),n("759f"),n("7f7f");var e=n("53ca");n("0d6d");(function(n){var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(){},a=function(t){return function(){return t}},o=function(t){return t},c=function(t){return function(){throw new Error(t)}},u=a(!1),s=a(!0),l=function(){return d},d=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:u,isSome:u,isNone:s,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:n,orThunk:e,map:l,each:i,bind:l,exists:u,forall:s,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:a("none()")};return Object.freeze&&Object.freeze(r),r}(),f=function t(e){var n=a(e),r=function(){return o},i=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:u,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:r,orThunk:r,map:function(n){return t(n(e))},each:function(t){t(e)},bind:i,exists:i,forall:i,filter:function(t){return t(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(u,(function(t){return n(e,t)}))}};return o},h=function(t){return null===t||void 0===t?d:f(t)},m={some:f,none:l,from:h},p=function(t){if(null===t)return"null";var n=Object(e["a"])(t);return"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},b=function(t){return function(e){return p(e)===t}},g=b("string"),v=b("object"),k=b("array"),_=b("boolean"),y=b("function"),w=b("number"),T=Array.prototype.slice,S=Array.prototype.push,C=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];e(i,n)}},E=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!k(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);S.apply(e,t[n])}return e},x=function(t){return 0===t.length?m.none():m.some(t[0])},O=(y(Array.from)&&Array.from,function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return m.none()}),A=function(){return A=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},A.apply(this,arguments)},N={},j={exports:N};(function(n,r,i,a){(function(a){if("object"===Object(e["a"])(r)&&"undefined"!==typeof i)i.exports=a();else if("function"===typeof n&&n.amd)n([],a);else{var o;o="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,o.EphoxContactWrapper=a()}})((function(){return function(){function t(e,n,r){function i(c,u){if(!n[c]){if(!e[c]){var s="function"==typeof a&&a;if(!u&&s)return s(c,!0);if(o)return o(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[c]={exports:{}};e[c][0].call(d.exports,(function(t){var n=e[c][1][t];return i(n||t)}),d,d.exports,t,e,n,r)}return n[c].exports}for(var o="function"==typeof a&&a,c=0;c<r.length;c++)i(r[c]);return i}return t}()({1:[function(t,e,n){var r,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function s(t){if(i===clearTimeout)return clearTimeout(t);if((i===c||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"===typeof clearTimeout?clearTimeout:c}catch(t){i=c}})();var l,d=[],f=!1,h=-1;function m(){f&&l&&(f=!1,l.length?d=l.concat(d):h=-1,d.length&&p())}function p(){if(!f){var t=u(m);f=!0;var e=d.length;while(e){l=d,d=[];while(++h<e)l&&l[h].run();h=-1,e=d.length}l=null,f=!1,s(t)}}function b(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new b(t,e)),1!==d.length||f||u(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],2:[function(t,n,r){(function(t){(function(r){var i=setTimeout;function a(){}function o(t,e){return function(){t.apply(e,arguments)}}function c(t){if("object"!==Object(e["a"])(this))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function u(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void l(e.promise,i)}s(e.promise,r)}else(1===t._state?s:l)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===Object(e["a"])(n)||"function"===typeof n)){var r=n.then;if(n instanceof c)return t._state=3,t._value=n,void d(t);if("function"===typeof r)return void h(o(r,n),t)}t._state=1,t._value=n,d(t)}catch(i){l(t,i)}}function l(t,e){t._state=2,t._value=e,d(t)}function d(t){2===t._state&&0===t._deferreds.length&&c._immediateFn((function(){t._handled||c._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,l(e,t))}))}catch(r){if(n)return;n=!0,l(e,r)}}c.prototype["catch"]=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var n=new this.constructor(a);return u(this,new f(t,e,n)),n},c.all=function(t){var n=Array.prototype.slice.call(t);return new c((function(t,r){if(0===n.length)return t([]);var i=n.length;function a(o,c){try{if(c&&("object"===Object(e["a"])(c)||"function"===typeof c)){var u=c.then;if("function"===typeof u)return void u.call(c,(function(t){a(o,t)}),r)}n[o]=c,0===--i&&t(n)}catch(s){r(s)}}for(var o=0;o<n.length;o++)a(o,n[o])}))},c.resolve=function(t){return t&&"object"===Object(e["a"])(t)&&t.constructor===c?t:new c((function(e){e(t)}))},c.reject=function(t){return new c((function(e,n){n(t)}))},c.race=function(t){return new c((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},c._immediateFn="function"===typeof t?function(e){t(e)}:function(t){i(t,0)},c._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},c._setImmediateFn=function(t){c._immediateFn=t},c._setUnhandledRejectionFn=function(t){c._unhandledRejectionFn=t},"undefined"!==typeof n&&n.exports?n.exports=c:r.Promise||(r.Promise=c)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,c={},u=0;function s(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"===typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&o.call(arguments,1);return c[e]=!0,i((function(){c[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"===typeof r?r:function(t){delete c[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),i=function(){return"undefined"!==typeof window?window:Function("return this;")()}();e.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,N,j,void 0);var I=j.exports.boltExport,P=function t(e){var r=m.none(),i=[],a=function(e){return t((function(t){o((function(n){t(e(n))}))}))},o=function(t){u()?l(t):i.push(t)},c=function(t){r=m.some(t),s(i),i=[]},u=function(){return r.isSome()},s=function(t){C(t,l)},l=function(t){r.each((function(e){n.setTimeout((function(){t(e)}),0)}))};return e(c),{get:o,map:a,isReady:u}},U=function(t){return P((function(e){e(t)}))},L={nu:P,pure:U},D=function(t){n.setTimeout((function(){throw t}),0)},R=function t(e){var n=function(t){e().then(t,D)},r=function(n){return t((function(){return e().then(n)}))},i=function(n){return t((function(){return e().then((function(t){return n(t).toPromise()}))}))},a=function(n){return t((function(){return e().then((function(){return n.toPromise()}))}))},o=function(){return L.nu(n)},c=function(){var n=null;return t((function(){return null===n&&(n=e()),n}))},u=e;return{map:r,bind:i,anonBind:a,toLazy:o,toCached:c,toPromise:u,get:n}},$=function(t){return R((function(){return new I(t)}))},F=function(t){return R((function(){return I.resolve(t)}))},M={nu:$,pure:F},B=function t(e){var n=function(t){return e===t},r=function(n){return t(e)},i=function(n){return t(e)},o=function(n){return t(n(e))},c=function(n){return t(e)},l=function(t){t(e)},d=function(t){return t(e)},f=function(t,n){return n(e)},h=function(t){return t(e)},p=function(t){return t(e)},b=function(){return m.some(e)};return{is:n,isValue:s,isError:u,getOr:a(e),getOrThunk:a(e),getOrDie:a(e),or:r,orThunk:i,fold:f,map:o,mapError:c,each:l,bind:d,exists:h,forall:p,toOption:b}},H=function t(e){var n=function(t){return t()},r=function(){return c(String(e))()},a=function(t){return t},l=function(t){return t()},d=function(n){return t(e)},f=function(n){return t(n(e))},h=function(n){return t(e)},p=function(t,n){return t(e)};return{is:u,isValue:u,isError:s,getOr:o,getOrThunk:n,getOrDie:r,or:a,orThunk:l,fold:p,map:d,mapError:f,each:i,bind:h,exists:u,forall:s,toOption:m.none}},q=function(t,e){return t.fold((function(){return H(e)}),B)},W={value:B,error:H,fromOption:q},G=function t(e){var r=function(){return t(e.toCached())},i=function(n){return t(e.bind((function(t){return t.fold((function(t){return M.pure(W.error(t))}),(function(t){return n(t)}))})))},a=function(n){return t(e.map((function(t){return t.bind(n)})))},o=function(n){return t(e.map((function(t){return t.map(n)})))},c=function(n){return t(e.map((function(t){return t.mapError(n)})))},u=function(t,n){return e.map((function(e){return e.fold(t,n)}))},s=function(r,i){return t(M.nu((function(t){var a=!1,o=n.setTimeout((function(){a=!0,t(W.error(i()))}),r);e.get((function(e){a||(n.clearTimeout(o),t(e))}))})))};return A(A({},e),{toCached:r,bindFuture:i,bindResult:a,mapResult:o,mapError:c,foldResult:u,withTimeout:s})},Q=function(t){return G(M.nu(t))},z=function(t){return G(M.pure(W.value(t)))},K=function(t){return G(M.pure(W.error(t)))},V=function(t){return G(M.pure(t))},Y=function(t){return G(t.map(W.value))},J=function(t){return Q((function(e){t.then((function(t){e(W.value(t))}),(function(t){e(W.error(t))}))}))},X={nu:Q,wrap:G,pure:z,value:z,error:K,fromResult:V,fromFuture:Y,fromPromise:J},Z=Object.prototype.hasOwnProperty,tt=function(t,e){var n=v(t)&&v(e);return n?nt(t,e):e},et=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<e.length;i++){var a=e[i];for(var o in a)Z.call(a,o)&&(r[o]=t(r[o],a[o]))}return r}},nt=et(tt),rt=(n.Node.ATTRIBUTE_NODE,n.Node.CDATA_SECTION_NODE,n.Node.COMMENT_NODE,n.Node.DOCUMENT_NODE,n.Node.DOCUMENT_TYPE_NODE,n.Node.DOCUMENT_FRAGMENT_NODE,n.Node.ELEMENT_NODE,n.Node.TEXT_NODE,n.Node.PROCESSING_INSTRUCTION_NODE,n.Node.ENTITY_REFERENCE_NODE,n.Node.ENTITY_NODE,n.Node.NOTATION_NODE,"undefined"!==typeof n.window?n.window:Function("return this;")(),function(t,e,r){if(!(g(r)||_(r)||w(r)))throw n.console.error("Invalid call to Attr.set. Key ",e,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,r+"")}),it=function(t,e,n){rt(t.dom(),e,n)},at=function(t,e){var r=e||n.document,i=r.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw n.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ut(i.childNodes[0])},ot=function(t,e){var r=e||n.document,i=r.createElement(t);return ut(i)},ct=function(t,e){var r=e||n.document,i=r.createTextNode(t);return ut(i)},ut=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:a(t)}},st=function(t,e,n){var r=t.dom();return m.from(r.elementFromPoint(e,n)).map(ut)},lt={fromHtml:at,fromTag:ot,fromText:ct,fromDom:ut,fromPoint:st},dt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ft=tinymce.util.Tools.resolve("tinymce.util.Promise"),ht=tinymce.util.Tools.resolve("tinymce.util.XHR"),mt=function(t){return t.getParam("image_dimensions",!0,"boolean")},pt=function(t){return t.getParam("image_advtab",!1,"boolean")},bt=function(t){return t.getParam("image_uploadtab",!0,"boolean")},gt=function(t){return t.getParam("image_prepend_url","","string")},vt=function(t){return t.getParam("image_class_list")},kt=function(t){return t.getParam("image_description",!0,"boolean")},_t=function(t){return t.getParam("image_title",!1,"boolean")},yt=function(t){return t.getParam("image_caption",!1,"boolean")},wt=function(t){return t.getParam("image_list",!1)},Tt=function(t){return!!Ct(t)},St=function(t){return!!Et(t)},Ct=function(t){return t.getParam("images_upload_url","","string")},Et=function(t){return t.getParam("images_upload_handler",void 0,"function")},xt=function(t){return t.getParam("images_upload_base_path",void 0,"string")},Ot=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},At=function(t){return t.getParam("a11y_advanced_options",!1,"boolean")},Nt=function(t){return t.getParam("automatic_uploads",!0,"boolean")},jt={hasDimensions:mt,hasUploadTab:bt,hasAdvTab:pt,getPrependUrl:gt,getClassList:vt,hasDescription:kt,hasImageTitle:_t,hasImageCaption:yt,getImageList:wt,hasUploadUrl:Tt,hasUploadHandler:St,getUploadUrl:Ct,getUploadHandler:Et,getUploadBasePath:xt,getUploadCredentials:Ot,showAccessibilityOptions:At,isAutomaticUploadsEnabled:Nt},It=function(t,e){return Math.max(parseInt(t,10),parseInt(e,10))},Pt=function(t,e){var r=n.document.createElement("img"),i=function(t){r.parentNode&&r.parentNode.removeChild(r),e(t)};r.onload=function(){It(r.width,r.clientWidth),It(r.height,r.clientHeight);var t={width:"100%",height:"auto"};i(W.value(t))},r.onerror=function(){i(W.error("Failed to get image dimensions for: "+t))};var a=r.style;a.visibility="hidden",a.position="fixed",a.bottom=a.left="0px",a.width=a.height="auto",n.document.body.appendChild(r),r.src=t},Ut=function(t){return t&&(t=t.replace(/px$/,"")),t},Lt=function(t){return t.length>0&&/^[0-9]+$/.test(t)&&(t+="px"),t},Dt=function(t){if(t.margin){var e=String(t.margin).split(" ");switch(e.length){case 1:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[0],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[0];break;case 2:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[1];break;case 3:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[1];break;case 4:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[3]}delete t.margin}return t},Rt=function(t,e){var n=jt.getImageList(t);"string"===typeof n?ht.send({url:n,success:function(t){e(JSON.parse(t))}}):"function"===typeof n?n(e):e(n)},$t=function(t,e,n){var r=function(){n.onload=n.onerror=null,t.selection&&(t.selection.select(n),t.nodeChanged())};n.onload=function(){e.width||e.height||!jt.hasDimensions(t)||t.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},Ft=function(t){return new ft((function(e,r){var i=new n.FileReader;i.onload=function(){e(i.result)},i.onerror=function(){r(i.error.message)},i.readAsDataURL(t)}))},Mt=function(t){return"IMG"===t.nodeName&&(t.hasAttribute("data-mce-object")||t.hasAttribute("data-mce-placeholder"))},Bt={getImageSize:Pt,removePixelSuffix:Ut,addPixelSuffix:Lt,mergeMargins:Dt,createImageList:Rt,waitLoadImage:$t,blobToDataUri:Ft,isPlaceholderImage:Mt},Ht=dt.DOM,qt=function(t){return t.style.marginLeft&&t.style.marginRight&&t.style.marginLeft===t.style.marginRight?Bt.removePixelSuffix(t.style.marginLeft):""},Wt=function(t){return t.style.marginTop&&t.style.marginBottom&&t.style.marginTop===t.style.marginBottom?Bt.removePixelSuffix(t.style.marginTop):""},Gt=function(t){return t.style.borderWidth?Bt.removePixelSuffix(t.style.borderWidth):""},Qt=function(t,e){return t.hasAttribute(e)?t.getAttribute(e):""},zt=function(t,e){return t.style[e]?t.style[e]:""},Kt=function(t){return null!==t.parentNode&&"FIGURE"===t.parentNode.nodeName},Vt=function(t,e,n){t.setAttribute(e,n)},Yt=function(t){var e=Ht.create("figure",{class:"image"});Ht.insertAfter(e,t),e.appendChild(t),e.appendChild(Ht.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false"},Jt=function(t){var e=t.parentNode;Ht.insertAfter(t,e),Ht.remove(e)},Xt=function(t){Kt(t)?Jt(t):Yt(t)},Zt=function(t,e){var n=t.getAttribute("style"),r=e(null!==n?n:"");r.length>0?(t.setAttribute("style",r),t.setAttribute("data-mce-style",r)):t.removeAttribute("style")},te=function(t,e){return function(t,n,r){t.style[n]?(t.style[n]=Bt.addPixelSuffix(r),Zt(t,e)):Vt(t,n,r)}},ee=function(t,e){return t.style[e]?Bt.removePixelSuffix(t.style[e]):Qt(t,e)},ne=function(t,e){var n=Bt.addPixelSuffix(e);t.style.marginLeft=n,t.style.marginRight=n},re=function(t,e){var n=Bt.addPixelSuffix(e);t.style.marginTop=n,t.style.marginBottom=n},ie=function(t,e){var n=Bt.addPixelSuffix(e);t.style.borderWidth=n},ae=function(t,e){t.style.borderStyle=e},oe=function(t){return zt(t,"borderStyle")},ce=function(t){return"FIGURE"===t.nodeName},ue=function(t){return"IMG"===t.nodeName},se=function(t){return 0===Ht.getAttrib(t,"alt").length&&"presentation"===Ht.getAttrib(t,"role")},le=function(t){return se(t)?"":Qt(t,"alt")},de=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},fe=function(t,e){var r=n.document.createElement("img");return Vt(r,"style",e.style),(qt(r)||""!==e.hspace)&&ne(r,e.hspace),(Wt(r)||""!==e.vspace)&&re(r,e.vspace),(Gt(r)||""!==e.border)&&ie(r,e.border),(oe(r)||""!==e.borderStyle)&&ae(r,e.borderStyle),t(r.getAttribute("style"))},he=function(t,e,r){var i=n.document.createElement("img");if(ke(t,A(A({},e),{caption:!1}),i,r),be(i,e.alt,e.isDecorative,r),e.caption){var a=Ht.create("figure",{class:"image"});return a.appendChild(i),a.appendChild(Ht.create("figcaption",{contentEditable:"true"},"Caption")),a.contentEditable="false",a}return i},me=function(t,e){return{src:Qt(e,"src"),alt:le(e),title:Qt(e,"title"),width:ee(e,"width"),height:ee(e,"height"),class:Qt(e,"class"),style:t(Qt(e,"style")),caption:Kt(e),hspace:qt(e),vspace:Wt(e),border:Gt(e),borderStyle:zt(e,"borderStyle"),isDecorative:se(e)}},pe=function(t,e,n,r,i){n[r]!==e[r]&&i(t,r,n[r])},be=function(t,e,n,r){if(n){Ht.setAttrib(t,"role","presentation");var i=lt.fromDom(t);it(i,"alt","")}else{if(r.hasAccessibilityOptions)Ht.setAttrib(t,"alt",e);else{i=lt.fromDom(t);it(i,"alt",e)}"presentation"===Ht.getAttrib(t,"role")&&Ht.setAttrib(t,"role","")}},ge=function(t,e,n,r){n.alt===e.alt&&n.isDecorative===e.isDecorative||be(t,n.alt,n.isDecorative,r)},ve=function(t,e){return function(n,r,i){t(n,i),Zt(n,e)}},ke=function(t,e,n,r){var i=me(t,n);pe(n,i,e,"caption",(function(t,e,n){return Xt(t)})),pe(n,i,e,"src",Vt),pe(n,i,e,"title",Vt),pe(n,i,e,"width",te("width",t)),pe(n,i,e,"height",te("height",t)),pe(n,i,e,"class",Vt),pe(n,i,e,"style",ve((function(t,e){return Vt(t,"style",e)}),t)),pe(n,i,e,"hspace",ve(ne,t)),pe(n,i,e,"vspace",ve(re,t)),pe(n,i,e,"border",ve(ie,t)),pe(n,i,e,"borderStyle",ve(ae,t)),ge(n,i,e,r)},_e=function(t,e){var n=t.dom.styles.parse(e),r=Bt.mergeMargins(n),i=t.dom.styles.parse(t.dom.styles.serialize(r));return t.dom.styles.serialize(i)},ye=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,"figure.image");return n?t.dom.select("img",n)[0]:e&&("IMG"!==e.nodeName||Bt.isPlaceholderImage(e))?null:e},we=function(t,e){var n=t.dom,r=n.getParent(e.parentNode,(function(e){return!!t.schema.getTextBlockElements()[e.nodeName]}),t.getBody());return r?n.split(r,e):e},Te=function(t){var e=ye(t);return e?me((function(e){return _e(t,e)}),e):de()},Se=function(t,e,n){var r=he((function(e){return _e(t,e)}),e,n);t.dom.setAttrib(r,"data-mce-id","__mcenew"),t.focus(),t.selection.setContent(r.outerHTML);var i=t.dom.select('*[data-mce-id="__mcenew"]')[0];if(t.dom.setAttrib(i,"data-mce-id",null),ce(i)){var a=we(t,i);t.selection.select(a)}else t.selection.select(i)},Ce=function(t,e){t.dom.setAttrib(e,"src",e.getAttribute("src"))},Ee=function(t,e){if(e){var n=t.dom.is(e.parentNode,"figure.image")?e.parentNode:e;t.dom.remove(n),t.focus(),t.nodeChanged(),t.dom.isEmpty(t.getBody())&&(t.setContent(""),t.selection.setCursorLocation())}},xe=function(t,e,n){var r=ye(t);if(ke((function(e){return _e(t,e)}),e,r,n),Ce(t,r),ce(r.parentNode)){var i=r.parentNode;we(t,i),t.selection.select(r.parentNode)}else t.selection.select(r),Bt.waitLoadImage(t,e,r)},Oe=function(t,e,n){var r=ye(t);r?e.src?xe(t,e,n):Ee(t,r):e.src&&Se(t,e,n)},Ae=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ne=function(t){return g(t.value)?t.value:""},je=function t(e,n){var r=[];return Ae.each(e,(function(e){var i=g(e.text)?e.text:g(e.title)?e.title:"";if(void 0!==e.menu){var a=t(e.menu,n);r.push({text:i,items:a})}else{var o=n(e);r.push({text:i,value:o})}})),r},Ie=function(t){return void 0===t&&(t=Ne),function(e){return e?m.from(e).map((function(e){return je(e,t)})):m.none()}},Pe=function(t){return Ie(Ne)(t)},Ue=function(t){return Object.prototype.hasOwnProperty.call(t,"items")},Le=function t(e,n){return O(e,(function(e){return Ue(e)?t(e.items,n):e.value===n?m.some(e):m.none()}))},De=function(t,e){return t.bind((function(t){return Le(t,e)}))},Re={sanitizer:Ie,sanitize:Pe,findEntry:De},$e=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e};function Fe(t){var e=function(e,r,i,a){var o,c;o=new n.XMLHttpRequest,o.open("POST",t.url),o.withCredentials=t.credentials,o.upload.onprogress=function(t){a(t.loaded/t.total*100)},o.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e;o.status<200||o.status>=300?i("HTTP Error: "+o.status):(e=JSON.parse(o.responseText),e&&"string"===typeof e.location?r($e(t.basePath,e.location)):i("Invalid JSON: "+o.responseText))},c=new n.FormData,c.append("file",e.blob(),e.filename()),o.send(c)},r=function(t,e){return new ft((function(n,r){try{e(t,n,r,i)}catch(a){r(a.message)}}))},a=function(t){return t===e},o=function(e){return!t.url&&a(t.handler)?ft.reject("Upload url missing from the settings."):r(e,t.handler)};return t=Ae.extend({credentials:!1,handler:e},t),{upload:o}}var Me=function(t){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Be={makeTab:Me},He=function(t){var e=Re.sanitizer((function(e){return t.convertURL(e.value||e.url,"src")})),n=M.nu((function(n){Bt.createImageList(t,(function(t){n(e(t).map((function(t){return E([[{text:"None",value:""}],t])})))}))})),r=Re.sanitize(jt.getClassList(t)),i=jt.hasAdvTab(t),a=jt.hasUploadTab(t),o=jt.hasUploadUrl(t),c=jt.hasUploadHandler(t),u=Te(t),s=jt.hasDescription(t),l=jt.hasImageTitle(t),d=jt.hasDimensions(t),f=jt.hasImageCaption(t),h=jt.showAccessibilityOptions(t),p=jt.getUploadUrl(t),b=jt.getUploadBasePath(t),v=jt.getUploadCredentials(t),k=jt.getUploadHandler(t),_=jt.isAutomaticUploadsEnabled(t),y=m.some(jt.getPrependUrl(t)).filter((function(t){return g(t)&&t.length>0}));return n.map((function(t){return{image:u,imageList:t,classList:r,hasAdvTab:i,hasUploadTab:a,hasUploadUrl:o,hasUploadHandler:c,hasDescription:s,hasImageTitle:l,hasDimensions:d,hasImageCaption:f,url:p,basePath:b,credentials:v,handler:k,prependURL:y,hasAccessibilityOptions:h,automaticUploads:_}}))},qe=function(t){var e={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=t.imageList.map((function(t){return{name:"images",type:"selectbox",label:"Image list",items:t}})),r={name:"alt",type:"input",label:"Alternative description",disabled:t.hasAccessibilityOptions&&t.image.isDecorative},i={name:"title",type:"input",label:"Image title"},a={name:"dimensions",type:"sizeinput"},o={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},c=t.classList.map((function(t){return{name:"classes",type:"selectbox",label:"Class",items:t}})),u={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return E([[e],n.toArray(),t.hasAccessibilityOptions&&t.hasDescription?[o]:[],t.hasDescription?[r]:[],t.hasImageTitle?[i]:[],t.hasDimensions?[a]:[],[{type:"grid",columns:2,items:E([c.toArray(),t.hasImageCaption?[u]:[]])}]])},We=function(t){return{title:"General",name:"general",items:qe(t)}},Ge={makeTab:We,makeItems:qe},Qe=function(t){var e=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:e}},ze={makeTab:Qe},Ke=function(t){return{prevImage:Re.findEntry(t.imageList,t.image.src),prevAlt:t.image.alt,open:!0}},Ve=function(t){return{src:{value:t.src,meta:{}},images:t.src,alt:t.alt,title:t.title,dimensions:{width:t.width,height:t.height},classes:t.class,caption:t.caption,style:t.style,vspace:t.vspace,border:t.border,hspace:t.hspace,borderstyle:t.borderStyle,fileinput:[],isDecorative:t.isDecorative}},Ye=function(t){return{src:t.src.value,alt:t.alt,title:t.title,width:t.dimensions.width,height:t.dimensions.height,class:t.classes,style:t.style,caption:t.caption,hspace:t.hspace,vspace:t.vspace,border:t.border,borderStyle:t.borderstyle,isDecorative:t.isDecorative}},Je=function(t,e){return/^(?:[a-zA-Z]+:)?\/\//.test(e)?m.none():t.prependURL.bind((function(t){return e.substring(0,t.length)!==t?m.some(t+e):m.none()}))},Xe=function(t,e){var n=e.getData();Je(t,n.src.value).each((function(t){e.setData({src:{value:t,meta:n.src.meta}})}))},Ze=function(t,e,n){t.hasDescription&&g(n.alt)&&(e.alt=n.alt),t.hasAccessibilityOptions&&(e.isDecorative=n.isDecorative||!1),t.hasImageTitle&&g(n.title)&&(e.title=n.title),t.hasDimensions&&(g(n.width)&&(e.dimensions.width=n.width),g(n.height)&&(e.dimensions.height=n.height)),g(n.class)&&Re.findEntry(t.classList,n.class).each((function(t){e.classes=t.value})),t.hasImageCaption&&_(n.caption)&&(e.caption=n.caption),t.hasAdvTab&&(g(n.style)&&(e.style=n.style),g(n.vspace)&&(e.vspace=n.vspace),g(n.border)&&(e.border=n.border),g(n.hspace)&&(e.hspace=n.hspace),g(n.borderstyle)&&(e.borderstyle=n.borderstyle))},tn=function(t,e){var n=e.getData(),r=n.src.meta;if(void 0!==r){var i=nt({},n);Ze(t,i,r),e.setData(i)}},en=function(t,e,n,r){var i=r.getData(),a=i.src.value,o=i.src.meta||{};o.width||o.height||!e.hasDimensions||t.imageSize(a).get((function(t){t.each((function(t){n.open&&r.setData({dimensions:t})}))}))},nn=function(t,e,n){var r=n.getData(),i=Re.findEntry(t.imageList,r.src.value);e.prevImage=i,n.setData({images:i.map((function(t){return t.value})).getOr("")})},rn=function(t,e,n,r){Xe(e,r),tn(e,r),en(t,e,n,r),nn(e,n,r)},an=function(t,e,n,r){var i=r.getData(),a=Re.findEntry(e.imageList,i.images);a.each((function(t){var e=""===i.alt||n.prevImage.map((function(t){return t.text===i.alt})).getOr(!1);e?""===t.value?r.setData({src:t,alt:n.prevAlt}):r.setData({src:t,alt:t.text}):r.setData({src:t})})),n.prevImage=a,rn(t,e,n,r)},on=function(t){var e=t["margin-top"]&&t["margin-bottom"]&&t["margin-top"]===t["margin-bottom"];return e?Bt.removePixelSuffix(String(t["margin-top"])):""},cn=function(t){var e=t["margin-right"]&&t["margin-left"]&&t["margin-right"]===t["margin-left"];return e?Bt.removePixelSuffix(String(t["margin-right"])):""},un=function(t){return t["border-width"]?Bt.removePixelSuffix(String(t["border-width"])):""},sn=function(t){return t["border-style"]?String(t["border-style"]):""},ln=function(t,e,n){return e(t(e(n)))},dn=function(t,e,n){var r=Bt.mergeMargins(t(n.style)),i=nt({},n);return i.vspace=on(r),i.hspace=cn(r),i.border=un(r),i.borderstyle=sn(r),i.style=ln(t,e,r),i},fn=function(t,e){var n=e.getData(),r=dn(t.parseStyle,t.serializeStyle,n);e.setData(r)},hn=function(t,e,n){var r=nt(Ve(e.image),n.getData()),i=fe(t.normalizeCss,Ye(r));n.setData({style:i})},mn=function(t,e,r,i){var a=i.getData();i.block("Uploading image"),x(a.fileinput).fold((function(){i.unblock()}),(function(a){var o=n.URL.createObjectURL(a),c=Fe({url:e.url,basePath:e.basePath,credentials:e.credentials,handler:e.handler}),u=function(){i.unblock(),n.URL.revokeObjectURL(o)},s=function(n){i.setData({src:{value:n,meta:{}}}),i.showTab("general"),rn(t,e,r,i)};Bt.blobToDataUri(a).then((function(n){var r=t.createBlobCache(a,o,n);e.automaticUploads?c.upload(r).then((function(t){s(t),u()})).catch((function(e){u(),t.alertErr(i,e)})):(t.addToBlobCache(r),s(r.blobUri()),i.unblock())}))}))},pn=function(t,e,n){return function(r,i){"src"===i.name?rn(t,e,n,r):"images"===i.name?an(t,e,n,r):"alt"===i.name?n.prevAlt=r.getData().alt:"style"===i.name?fn(t,r):"vspace"===i.name||"hspace"===i.name||"border"===i.name||"borderstyle"===i.name?hn(t,e,r):"fileinput"===i.name?mn(t,e,n,r):"isDecorative"===i.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},bn=function(t){return function(){t.open=!1}},gn=function(t){if(t.hasAdvTab||t.hasUploadUrl||t.hasUploadHandler){var e={type:"tabpanel",tabs:E([[Ge.makeTab(t)],t.hasAdvTab?[Be.makeTab(t)]:[],t.hasUploadTab&&(t.hasUploadUrl||t.hasUploadHandler)?[ze.makeTab(t)]:[]])};return e}var n={type:"panel",items:Ge.makeItems(t)};return n},vn=function(t){return function(e){var n=Ke(e);return{title:"Insert/Edit Image",size:"normal",body:gn(e),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ve(e.image),onSubmit:t.onSubmit(e),onChange:pn(t,e,n),onClose:bn(n)}}},kn=function(t){return function(e){return function(n){var r=nt(Ve(e.image),n.getData());t.undoManager.transact((function(){Oe(t,Ye(r),e)})),t.editorUpload.uploadImagesAuto(),n.close()}}},_n=function(t){return function(e){return X.nu((function(n){Bt.getImageSize(t.documentBaseURI.toAbsolute(e),(function(t){var e=t.map((function(t){return{width:String(t.width),height:String(t.height)}}));n(e)}))}))}},yn=function(t){return function(e,n,r){return t.editorUpload.blobCache.create({blob:e,blobUri:n,name:e.name?e.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},wn=function(t){return function(e){t.editorUpload.blobCache.add(e)}},Tn=function(t){return function(e,n){t.windowManager.alert(n,e.close)}},Sn=function(t){return function(e){return _e(t,e)}},Cn=function(t){return function(e){return t.dom.parseStyle(e)}},En=function(t){return function(e,n){return t.dom.serializeStyle(e,n)}},xn=function(t){var e={onSubmit:kn(t),imageSize:_n(t),addToBlobCache:wn(t),createBlobCache:yn(t),alertErr:Tn(t),normalizeCss:Sn(t),parseStyle:Cn(t),serializeStyle:En(t)},n=function(){return He(t).map(vn(e)).get((function(e){t.windowManager.open(e)}))};return{open:n}},On=function(t){t.addCommand("mceImage",xn(t).open)},An={register:On},Nn=function(t){var e=t.attr("class");return e&&/\bimage\b/.test(e)},jn=function(t){return function(e){var n=e.length,r=function(e){e.attr("contenteditable",t?"true":null)};while(n--){var i=e[n];Nn(i)&&(i.attr("contenteditable",t?"false":null),Ae.each(i.getAll("figcaption"),r))}}},In=function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("figure",jn(!0)),t.serializer.addNodeFilter("figure",jn(!1))}))},Pn={setup:In},Un=function(t){t.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:xn(t).open,onSetup:function(e){return t.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",e.setActive).unbind}}),t.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:xn(t).open}),t.ui.registry.addContextMenu("image",{update:function(t){return ce(t)||ue(t)&&!Bt.isPlaceholderImage(t)?["image"]:[]}})},Ln={register:Un};function Dn(){r.add("image",(function(t){Pn.setup(t),Ln.register(t),An.register(t)}))}Dn()})(window)}).call(this,n("c8ba"))},fb5b:function(t,e,n){"use strict";n("9deb")},ff6f:function(t,e,n){}});